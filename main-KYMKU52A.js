import{a as yt,c as K,d as Lt,e as pe,f as Ue,g as x,h as me,i as Ut,j as Gt,k as $t,m as Ge,o as he,p as zt,q as $e,r as ze}from"./chunk-QKBXZ5E4.js";import{$a as h,Bb as jt,Db as Bt,Eb as ie,Fa as Pe,Fb as se,Ga as A,Ha as It,Ja as Tt,La as a,M as mt,Ma as y,N as I,O as ht,Oa as gt,Q as ue,Qa as u,Ra as Fe,S as N,T as Q,V as S,Va as _,W as ft,X as ee,Xa as v,Y as Le,Ya as Ot,Za as U,_a as Nt,a as F,ab as vt,b as O,ba as Ft,bb as V,ca as f,cb as k,da as g,db as r,ea as P,eb as o,fa as j,fb as m,ga as At,gb as b,i as Vt,jb as p,ka as te,kb as c,l as kt,lb as _t,m as Pt,mb as l,n as $,na as z,nb as w,oa as Y,ob as C,pa as ke,pb as Ae,q as L,qb as M,rb as D,sb as T,tb as G,v as Z,vb as Rt,x as q,zb as Ht}from"./chunk-Z6DSEDD3.js";var Qt=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(n){return new(n||i)(y(gt),y(ke))}}static{this.\u0275dir=ee({type:i})}}return i})(),Si=(()=>{class i extends Qt{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=At(i)))(s||i)}})()}static{this.\u0275dir=ee({type:i,features:[Fe]})}}return i})(),ei=new ue("");var Mi={provide:ei,useExisting:mt(()=>_e),multi:!0};function wi(){let i=yt()?yt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Di=new ue(""),_e=(()=>{class i extends Qt{constructor(t,n,s){super(t,n),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wi())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(n){return new(n||i)(y(gt),y(ke),y(Di,8))}}static{this.\u0275dir=ee({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&p("input",function(R){return s._handleInput(R.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(R){return s._compositionEnd(R.target.value)})},features:[Ae([Mi]),Fe]})}}return i})();var Ei=new ue(""),Vi=new ue("");function ti(i){return i!=null}function ii(i){return Rt(i)?kt(i):i}function ni(i){let e={};return i.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function ri(i,e){return e.map(t=>t(i))}function ki(i){return!i.validate}function oi(i){return i.map(e=>ki(e)?e:t=>e.validate(t))}function Pi(i){if(!i)return null;let e=i.filter(ti);return e.length==0?null:function(t){return ni(ri(t,e))}}function si(i){return i!=null?Pi(oi(i)):null}function Fi(i){if(!i)return null;let e=i.filter(ti);return e.length==0?null:function(t){let n=ri(t,e).map(ii);return Z(n).pipe(L(ni))}}function ai(i){return i!=null?Fi(oi(i)):null}function Wt(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Ai(i){return i._rawValidators}function Ii(i){return i._rawAsyncValidators}function Ct(i){return i?Array.isArray(i)?i:[i]:[]}function qe(i,e){return Array.isArray(i)?i.includes(e):i===e}function qt(i,e){let t=Ct(e);return Ct(i).forEach(s=>{qe(t,s)||t.push(s)}),t}function Yt(i,e){return Ct(e).filter(t=>!qe(i,t))}var Ye=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=si(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ai(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},bt=class extends Ye{get formDirective(){return null}get path(){return null}},Re=class extends Ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ti={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tr=O(F({},Ti),{"[class.ng-submitted]":"isSubmitted"}),Je=(()=>{class i extends xt{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||i)(y(Re,2))}}static{this.\u0275dir=ee({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&U("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Fe]})}}return i})();var Ie="VALID",We="INVALID",fe="PENDING",Te="DISABLED",ve=class{},Ke=class extends ve{constructor(e,t){super(),this.value=e,this.source=t}},Oe=class extends ve{constructor(e,t){super(),this.pristine=e,this.source=t}},Ne=class extends ve{constructor(e,t){super(),this.touched=e,this.source=t}},ge=class extends ve{constructor(e,t){super(),this.status=e,this.source=t}};function Oi(i){return(Xe(i)?i.validators:i)||null}function Ni(i){return Array.isArray(i)?si(i):i||null}function Ri(i,e){return(Xe(e)?e.asyncValidators:i)||null}function Hi(i){return Array.isArray(i)?ai(i):i||null}function Xe(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var St=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ie(()=>this.statusReactive()),this.statusReactive=u(void 0),this._pristine=ie(()=>this.pristineReactive()),this.pristineReactive=u(!0),this._touched=ie(()=>this.touchedReactive()),this.touchedReactive=u(!1),this._events=new Vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return se(this.statusReactive)}set status(e){se(()=>this.statusReactive.set(e))}get valid(){return this.status===Ie}get invalid(){return this.status===We}get pending(){return this.status==fe}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get pristine(){return se(this.pristineReactive)}set pristine(e){se(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return se(this.touchedReactive)}set touched(e){se(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yt(e,this._rawAsyncValidators))}hasValidator(e){return qe(this._rawValidators,e)}hasAsyncValidator(e){return qe(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(O(F({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Ne(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new Ne(!1,n))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(O(F({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Oe(!1,n))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new Oe(!0,n))}markAsPending(e={}){this.status=fe;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ge(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(O(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Te,this.errors=null,this._forEachChild(s=>{s.disable(O(F({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ke(this.value,n)),this._events.next(new ge(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ie,this._forEachChild(n=>{n.enable(O(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(O(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ie||this.status===fe)&&this._runAsyncValidator(n,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ke(this.value,t)),this._events.next(new ge(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(O(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=ii(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,s)=>n&&n._find(s),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new ge(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new te,this.statusChanges=new te}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?We:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(We)?We:Ie}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),s&&this._events.next(new Oe(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ne(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xe(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ni(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hi(this._rawAsyncValidators)}};var li=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Mt}),Mt="always";function ji(i,e){return[...e.path,i]}function Bi(i,e,t=Mt){Ui(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Gi(i,e),zi(i,e),$i(i,e),Li(i,e)}function Kt(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Li(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function Ui(i,e){let t=Ai(i);e.validator!==null?i.setValidators(Wt(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=Ii(i);e.asyncValidator!==null?i.setAsyncValidators(Wt(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let s=()=>i.updateValueAndValidity();Kt(e._rawValidators,s),Kt(e._rawAsyncValidators,s)}function Gi(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ci(i,e)})}function $i(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ci(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function ci(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function zi(i,e){let t=(n,s)=>{e.valueAccessor.writeValue(n),s&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function Wi(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qi(i){return Object.getPrototypeOf(i.constructor)===Si}function Yi(i,e){if(!e)return null;Array.isArray(e);let t,n,s;return e.forEach(d=>{d.constructor===_e?t=d:qi(d)?n=d:s=d}),s||n||t||null}function Jt(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function Xt(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ki=class extends St{constructor(e=null,t,n){super(Oi(t),Ri(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xe(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Xt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ji={provide:Re,useExisting:mt(()=>He)},Zt=Promise.resolve(),He=(()=>{class i extends Re{constructor(t,n,s,d,R,W){super(),this._changeDetectorRef=R,this.callSetDisabledState=W,this.control=new Ki,this._registered=!1,this.name="",this.update=new te,this._parent=t,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Yi(this,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Wi(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Zt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,s=n!==0&&Bt(n);Zt.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ji(t,this._parent):[t]}static{this.\u0275fac=function(n){return new(n||i)(y(bt,9),y(Ei,10),y(Vi,10),y(ei,10),y(jt,8),y(li,8))}}static{this.\u0275dir=ee({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ae([Ji]),Fe,Ft]})}}return i})();var Xi=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=ft({type:i})}static{this.\u0275inj=ht({})}}return i})();var ye=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:li,useValue:t.callSetDisabledState??Mt}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=ft({type:i})}static{this.\u0275inj=ht({imports:[Xi]})}}return i})();var Ze={normal:{bg:"bg-gray-100",text:"text-gray-800"},fire:{bg:"bg-red-100",text:"text-red-800"},water:{bg:"bg-blue-100",text:"text-blue-800"},electric:{bg:"bg-yellow-100",text:"text-yellow-800"},grass:{bg:"bg-green-100",text:"text-green-800"},ice:{bg:"bg-cyan-100",text:"text-cyan-800"},fighting:{bg:"bg-orange-100",text:"text-orange-800"},poison:{bg:"bg-purple-100",text:"text-purple-800"},ground:{bg:"bg-amber-100",text:"text-amber-800"},flying:{bg:"bg-indigo-100",text:"text-indigo-800"},psychic:{bg:"bg-pink-100",text:"text-pink-800"},bug:{bg:"bg-lime-100",text:"text-lime-800"},rock:{bg:"bg-stone-100",text:"text-stone-800"},ghost:{bg:"bg-violet-100",text:"text-violet-800"},dragon:{bg:"bg-teal-100",text:"text-teal-800"},dark:{bg:"bg-zinc-100",text:"text-zinc-800"},steel:{bg:"bg-slate-100",text:"text-slate-800"},fairy:{bg:"bg-rose-100",text:"text-rose-800"}},ui=255,pi=5;var Zi=(i,e)=>e.type.name;function Qi(i,e){if(i&1&&(r(0,"span",2),l(1),D(2,"titlecase"),o()),i&2){let t=e.$implicit,n=c();Nt(n.getTypeClasses(t.type.name)),a(),C(" ",T(2,3,t.type.name)," ")}}var Ce=class i{types=[];getTypeClasses(e){let t=Ze[e];return`${t.bg} ${t.text}`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-pokemon-types"]],inputs:{types:"types"},standalone:!0,features:[M],decls:3,vars:0,consts:[[1,"flex","gap-2"],[1,"px-3","py-1","rounded-full","text-sm",3,"class"],[1,"px-3","py-1","rounded-full","text-sm"]],template:function(t,n){t&1&&(r(0,"div",0),V(1,Qi,3,5,"span",1,Zi),o()),t&2&&(a(),k(n.types))},dependencies:[x,K],encapsulation:2})};var en=(i,e)=>e.name;function tn(i,e){if(i&1){let t=b();r(0,"tr",7)(1,"td",8)(2,"div",9),l(3),D(4,"titlecase"),o()(),r(5,"td",8),m(6,"img",10),o(),r(7,"td",8),m(8,"app-pokemon-types",11),o(),r(9,"td",12)(10,"div",13)(11,"button",14),p("click",function(){let s=f(t).$implicit,d=c();return g(d.reloadPokemon(s))}),P(),r(12,"svg",15),m(13,"path",16),o()(),j(),r(14,"button",17),p("click",function(){let s=f(t).$implicit,d=c();return g(d.deletePokemon(s))}),P(),r(15,"svg",15),m(16,"path",18),o()()()()()}if(i&2){let t=e.$implicit;a(3),C(" ",T(4,4,t.name)," "),a(3),v("src",t.sprites.front_default,A)("alt",t.name),a(2),v("types",t.types)}}var Qe=class i{searchHistory=Y([]);deleteEntry=z();reloadEntry=z();deletePokemon(e){this.deleteEntry.emit(e)}reloadPokemon(e){this.reloadEntry.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-pokemon-history-table"]],inputs:{searchHistory:[1,"searchHistory"]},outputs:{deleteEntry:"deleteEntry",reloadEntry:"reloadEntry"},standalone:!0,features:[M],decls:17,vars:0,consts:[[1,"mt-8"],[1,"text-xl","font-semibold","mb-4"],[1,"w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"h-12","w-12",3,"src","alt"],[3,"types"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"flex","justify-end","space-x-2"],["title","Reload Pokemon",1,"text-blue-600","hover:text-blue-900","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["title","Delete from history",1,"text-red-600","hover:text-red-900","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h2",1),l(2,"Recent Pokemon Searches"),o(),r(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),l(7," Pokemon "),o(),r(8,"th",4),l(9," Sprite "),o(),r(10,"th",4),l(11," Types "),o(),r(12,"th",5),l(13," Actions "),o()()(),r(14,"tbody",6),V(15,tn,17,6,"tr",7,en),o()()()),t&2&&(a(15),k(n.searchHistory()))},dependencies:[x,K,Ce],encapsulation:2})};var xe=class i{constructor(e){this.http=e;this.loadPokemonList()}apiUrl="https://pokeapi.co/api/v2/pokemon/";pokemonList=[];maxPokemonSuggestions=5;loadPokemonList(){this.http.get(`${this.apiUrl}?limit=100000&offset=0`).subscribe({next:e=>{this.pokemonList=e.results.map(t=>t.name)},error:e=>console.error("Error loading Pokemon list:",e)})}getPokemon(e){return this.http.get(`${this.apiUrl}${e.toLowerCase()}`).pipe(q(t=>t.status===404?$(()=>new Error("Pokemon not found")):$(()=>new Error("An error occurred while fetching Pokemon data"))))}filterPokemon(e){let t=e.toLowerCase();return this.pokemonList.filter(n=>n.startsWith(t)).slice(0,this.maxPokemonSuggestions)}static \u0275fac=function(t){return new(t||i)(N(me))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var nn=(i,e)=>e.stat.name,rn=(i,e)=>e.ability.name,on=(i,e)=>e.move.name;function sn(i,e){if(i&1){let t=b();r(0,"button",15),p("click",function(){f(t);let s=c(2);return g(s.closeCard())}),P(),r(1,"svg",16),m(2,"path",17),o()()}}function an(i,e){if(i&1&&(r(0,"div",28)(1,"div",34)(2,"span"),l(3),D(4,"titlecase"),o(),r(5,"span",35),l(6),o()(),r(7,"div",36),m(8,"div",37),o()()),i&2){let t=e.$implicit;a(3),C("",T(4,4,t.stat.name),":"),a(3),w(t.base_stat),a(2),Ot("width",t.base_stat/255*100,"%")}}function ln(i,e){if(i&1&&(r(0,"span",31),l(1),D(2,"titlecase"),o()),i&2){let t=e.$implicit;a(),C(" ",T(2,1,t.ability.name)," ")}}function cn(i,e){if(i&1&&(r(0,"span",31),l(1),D(2,"titlecase"),o()),i&2){let t=e.$implicit;a(),C(" ",T(2,1,t.move.name)," ")}}function dn(i,e){if(i&1){let t=b();r(0,"div",6)(1,"div",18)(2,"h2",19),l(3),D(4,"titlecase"),o(),r(5,"div",20)(6,"img",21),p("click",function(){f(t);let s=c(2);return g(s.toggleSprite())}),o(),r(7,"img",21),p("click",function(){f(t);let s=c(2);return g(s.toggleSprite())}),o(),r(8,"p",22),l(9),o()()(),r(10,"div",23)(11,"div",24)(12,"h3",25),l(13,"Types"),o(),m(14,"app-pokemon-types",26),o(),r(15,"div",24)(16,"h3",25),l(17,"Base Stats"),o(),r(18,"div",27),V(19,an,9,6,"div",28,nn),o()(),r(21,"div",29)(22,"h3",25),l(23,"Abilities"),o(),r(24,"div",30),V(25,ln,3,3,"span",31,rn),o()(),r(27,"div",29)(28,"h3",25),l(29,"Moves (First 5)"),o(),r(30,"div",30),V(31,cn,3,3,"span",31,on),o()(),r(33,"div",32)(34,"div",33)(35,"span"),l(36),o(),r(37,"span"),l(38),o()()()()()}if(i&2){let t=c(2);a(3),C(" ",T(4,9,t.pokemonData().name)," "),a(3),v("src",t.getSpriteSrc("front"),A)("alt",t.pokemonData().name+" front"),a(),v("src",t.getSpriteSrc("back"),A)("alt",t.pokemonData().name+" back"),a(2),C(" Click to toggle ",t.currentSprite()==="default"?"shiny":"normal"," sprite "),a(5),v("types",t.pokemonData().types),a(5),k(t.pokemonData().base_stats),a(6),k(t.pokemonData().abilities),a(6),k(t.pokemonData().moves.slice(0,5)),a(5),C("Height: ",t.pokemonData().height/10,"m"),a(2),C("Weight: ",t.pokemonData().weight/10,"kg")}}function un(i,e){i&1&&(r(0,"div",13),m(1,"div",38),r(2,"p",39),l(3,"Loading Pokemon data..."),o()())}function pn(i,e){if(i&1){let t=b();r(0,"div",14)(1,"p"),l(2),o(),r(3,"button",40),p("click",function(){f(t);let s=c(2);return g(s.loadPokemon())}),l(4," Retry "),o()()}if(i&2){let t=c(2);a(2),w(t.error())}}function mn(i,e){if(i&1){let t=b();r(0,"div",4),p("click",function(s){f(t);let d=c();return g(d.handleBackdropClick(s))}),m(1,"div",5),r(2,"div",6)(3,"div",7),_(4,sn,3,0,"button",8),r(5,"div",9)(6,"div",10)(7,"div",11),_(8,dn,39,11,"div",6),o(),r(9,"div",12),_(10,un,4,0,"div",13)(11,pn,5,1,"div",14),o()()()()()()}if(i&2){let t=c();a(4),h(t.pokemonData()&&!t.isLoading()?4:-1),a(2),U("flipped",t.isFlipped()),a(2),h(t.pokemonData()&&!t.isLoading()?8:-1),a(2),h(t.isLoading()?10:-1),a(),h(t.error()?11:-1)}}var et=class i{constructor(e){this.pokemonService=e}MAX_HISTORY=5;STORAGE_KEY="pokemon-history";POKEMON_TYPE_COLORS=Ze;MAX_STAT_VALUE=ui;DISPLAYED_MOVES_COUNT=pi;pokemonData=u(void 0);isLoading=u(!1);error=u(void 0);currentSprite=u("default");pokemonName="";searchTerm=u("");searchHistory=u([]);isFlipped=u(!1);isVisible=u(!1);ngOnInit(){this.loadSearchHistory()}loadSearchHistory(){let e=localStorage.getItem(this.STORAGE_KEY);e&&this.searchHistory.set(JSON.parse(e))}searchPokemon(e){this.pokemonName=e,this.loadPokemon()}loadPokemon(){this.isLoading.set(!0),this.error.set(void 0),this.isFlipped.set(!0),this.pokemonService.getPokemon(this.pokemonName).subscribe({next:e=>{setTimeout(()=>{this.pokemonData.set(e),this.updateSearchHistory(e),this.isLoading.set(!1),this.isFlipped.set(!1),this.isVisible.set(!0)},300)},error:e=>{this.error.set("Pokemon not found. Please try another name."),this.isLoading.set(!1),this.isFlipped.set(!1),this.isVisible.set(!1),console.error("Error loading Pokemon:",e)}})}updateSearchHistory(e){let t=this.searchHistory();this.searchHistory.set([e,...t.filter(n=>n.name!==e.name)].slice(0,this.MAX_HISTORY)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}toggleSprite(){this.currentSprite.set(this.currentSprite()==="default"?"shiny":"default")}getSpriteSrc(e){return this.pokemonData()?.sprites?this.currentSprite()==="shiny"?e==="front"?this.pokemonData()?.sprites.other.showdown.front_shiny||"":this.pokemonData()?.sprites.other.showdown.back_shiny||"":e==="front"?this.pokemonData()?.sprites.front_default||"":this.pokemonData()?.sprites.back_default||"":""}handleDeletePokemon(e){this.searchHistory.set(this.searchHistory().filter(t=>t.name!==e.name)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}closeCard(){this.isVisible.set(!1),this.pokemonData.set(void 0),this.searchTerm.set("")}handleBackdropClick(e){e.target.classList.contains("fixed")&&this.closeCard()}static \u0275fac=function(t){return new(t||i)(y(xe))};static \u0275cmp=S({type:i,selectors:[["app-playing-card"]],standalone:!0,features:[M],decls:4,vars:2,consts:[[1,"flex","flex-col","items-center","min-h-[400px]","w-full"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"w-full"],[3,"deleteEntry","reloadEntry","searchHistory"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","transition-opacity","modal-backdrop"],[1,"flex","h-full"],[1,"w-full","max-w-5xl","mx-auto","card-container","relative","bg-white","shadow-xl","modal-content"],[1,"absolute","right-4","top-4","z-20","bg-white","rounded-full","p-1.5","shadow-lg","hover:bg-gray-100","transition-colors","duration-200"],[1,"h-full","overflow-y-auto"],[1,"card"],[1,"card-face","front"],[1,"card-face","back"],[1,"bg-white","rounded-xl","shadow-lg","p-8","text-center"],[1,"bg-white","rounded-xl","shadow-lg","p-8","text-center","text-red-600"],[1,"absolute","right-4","top-4","z-20","bg-white","rounded-full","p-1.5","shadow-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"w-1/3","p-6","bg-gray-50","border-r","border-gray-200"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"flex","flex-col","items-center","space-y-4"],[1,"w-48","h-48","cursor-pointer",3,"click","src","alt"],[1,"text-center","text-sm","text-gray-600"],[1,"w-2/3","p-6"],[1,"mb-6"],[1,"font-semibold","mb-2"],[3,"types"],[1,"space-y-2"],[1,"text-sm"],[1,"mt-6"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","bg-gray-100","rounded-full","text-sm"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"flex","justify-between","text-sm","text-gray-600"],[1,"flex","justify-between"],[1,"font-medium"],[1,"w-full","bg-gray-200","rounded-full","h-1.5"],[1,"bg-blue-600","h-1.5","rounded-full"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-gray-900","mx-auto"],[1,"mt-4"],[1,"mt-4","px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),_(1,mn,12,6,"div",1),r(2,"div",2)(3,"app-pokemon-history-table",3),p("deleteEntry",function(d){return n.handleDeletePokemon(d)})("reloadEntry",function(d){return n.searchPokemon(d.name)}),o()()()),t&2&&(a(),h(n.isVisible()?1:-1),a(2),v("searchHistory",n.searchHistory()))},dependencies:[x,K,ye,Ce,Qe],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.pokemon-card[_ngcontent-%COMP%]{transition:all .3s ease}.pokemon-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-bar[_ngcontent-%COMP%]{transition:width .5s ease-out}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.loading-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite linear;background:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-size:1000px 100%}.modal-backdrop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.card-container[_ngcontent-%COMP%]{perspective:1000px;height:100vh}"]})};var Se=class i{transform(e,t){if(!t)return e;let n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),s=new RegExp(n,"gi");return e.replace(s,d=>`<strong>${d}</strong>`)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Le({name:"highlight",type:i,pure:!0,standalone:!0})};function hn(i,e){if(i&1){let t=b();r(0,"button",13),D(1,"titlecase"),D(2,"highlight"),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectSuggestion(s))})("mousedown",function(s){return f(t),g(s.preventDefault())}),o()}if(i&2){let t=e.$implicit,n=c(3);v("innerHTML",G(2,3,T(1,1,t),n.searchTerm()),Pe)}}function fn(i,e){if(i&1&&(r(0,"div",8)(1,"div",10),l(2,"Recent searches"),o(),r(3,"div",11),V(4,hn,3,6,"button",12,vt),o()()),i&2){let t=c(2);a(4),k(t.searchHistory())}}function gn(i,e){if(i&1){let t=b();r(0,"button",15),D(1,"titlecase"),D(2,"highlight"),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectSuggestion(s))})("mousedown",function(s){return f(t),g(s.preventDefault())}),o()}if(i&2){let t=e.$implicit,n=c(3);v("innerHTML",G(2,3,T(1,1,t),n.searchTerm()),Pe)}}function vn(i,e){if(i&1&&(r(0,"div",9),V(1,gn,3,6,"button",14,vt),o()),i&2){let t=c(2);a(),k(t.suggestions())}}function _n(i,e){if(i&1&&(r(0,"div",6),_(1,fn,6,0,"div",8)(2,vn,3,0,"div",9),o()),i&2){let t=c();a(),h(t.searchHistory().length>0?1:-1),a(),h(t.suggestions().length>0&&t.searchTerm().length>=2?2:-1)}}function yn(i,e){if(i&1&&(r(0,"p",7),l(1),o()),i&2){let t=c();a(),w(t.error())}}var tt=class i{constructor(e){this.pokemonService=e;this.loadSearchHistory()}isLoading=Y(!1);error=Y(void 0);searchSubmitted=z();searchTerm=u("");suggestions=u([]);searchHistory=u([]);isInputFocused=u(!1);MAX_HISTORY=8;STORAGE_KEY="pokemon-search-history";loadSearchHistory(){let e=localStorage.getItem(this.STORAGE_KEY);this.searchHistory.set(e?JSON.parse(e):[])}saveSearchHistory(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}onInputFocus(){this.isInputFocused.set(!0)}onInputBlur(){setTimeout(()=>{this.isInputFocused.set(!1)},200)}onSearchChange(e){e.length>=2?this.suggestions.set(this.pokemonService.filterPokemon(e)):this.suggestions.set([])}selectSuggestion(e){this.searchTerm.set(e),this.suggestions.set([]),this.search()}search(){if(!this.searchTerm().trim())return;let e=this.searchTerm().toLowerCase();this.searchHistory.set([e,...this.searchHistory().filter(t=>t!==e)].slice(0,this.MAX_HISTORY)),this.saveSearchHistory(),this.suggestions.set([]),this.searchSubmitted.emit(e)}static \u0275fac=function(t){return new(t||i)(y(xe))};static \u0275cmp=S({type:i,selectors:[["app-pokemon-search"]],inputs:{isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{searchSubmitted:"searchSubmitted"},standalone:!0,features:[M],decls:8,vars:3,consts:[[1,"relative","w-full"],[1,"relative","flex","items-center"],[1,"absolute","left-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search a pokemon",1,"w-full","pl-12","pr-4","py-3","border-0","rounded-full","bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition-colors","duration-200",3,"ngModelChange","focus","blur","keyup.enter","ngModel"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","overflow-auto"],[1,"text-red-500","text-sm","mt-2"],[1,"p-3"],[1,"border-t","border-gray-100"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","bg-gray-100","hover:bg-gray-200","rounded-full","text-sm","transition-colors","duration-150",3,"innerHTML"],[1,"px-3","py-1","bg-gray-100","hover:bg-gray-200","rounded-full","text-sm","transition-colors","duration-150",3,"click","mousedown","innerHTML"],[1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","focus:bg-gray-50","focus:outline-none","transition-colors","duration-150",3,"innerHTML"],[1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","focus:bg-gray-50","focus:outline-none","transition-colors","duration-150",3,"click","mousedown","innerHTML"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),P(),r(3,"svg",3),m(4,"path",4),o()(),j(),r(5,"input",5),p("ngModelChange",function(d){return n.searchTerm.set(d),n.onSearchChange(d)})("focus",function(){return n.onInputFocus()})("blur",function(){return n.onInputBlur()})("keyup.enter",function(){return n.search()}),o()(),_(6,_n,3,2,"div",6)(7,yn,2,1,"p",7),o()),t&2&&(a(5),v("ngModel",n.searchTerm()),a(),h(n.isInputFocused()&&n.searchHistory().length>0||n.suggestions().length>0&&n.searchTerm().length>=2?6:-1),a(),h(n.error()?7:-1))},dependencies:[x,K,ye,_e,Je,He,Se],styles:["[_nghost-%COMP%]     strong{font-weight:600;color:#2563eb}"]})};var it=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-pokemon-page"]],standalone:!0,features:[M],decls:5,vars:2,consts:[["playingCard",""],[1,"w-96"],[3,"searchSubmitted","isLoading","error"],[1,"mt-8"]],template:function(t,n){if(t&1){let s=b();r(0,"div",1)(1,"app-pokemon-search",2),p("searchSubmitted",function(R){f(s);let W=_t(4);return g(W.searchPokemon(R))}),o()(),r(2,"div",3),m(3,"app-playing-card",null,0),o()}if(t&2){let s=_t(4);a(),v("isLoading",s.isLoading())("error",s.error())}},dependencies:[x,et,tt],encapsulation:2})};var nt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-movie-page"]],standalone:!0,features:[M],decls:14,vars:0,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mb-8","border-b","border-gray-200"],[1,"flex","-mb-px"],[1,"mr-1"],["routerLink","by-title","routerLinkActive","border-blue-500 text-blue-600",1,"inline-block","px-6","py-3","text-gray-600","hover:text-gray-800","border-b-2","border-transparent","font-medium","transition-colors"],["routerLink","by-filter","routerLinkActive","border-blue-500 text-blue-600",1,"inline-block","px-6","py-3","text-gray-600","hover:text-gray-800","border-b-2","border-transparent","font-medium","transition-colors"],[1,"bg-white","rounded-lg","shadow-sm","p-6"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Movies"),o()(),r(4,"nav",3)(5,"ul",4)(6,"li",5)(7,"a",6),l(8," Search by Title "),o()(),r(9,"li",5)(10,"a",7),l(11," Search by Filters "),o()()()(),r(12,"div",8),m(13,"router-outlet"),o()())},dependencies:[x,he,Ge],encapsulation:2})};var ne=class i{constructor(e){this.http=e}baseUrl="https://api.themoviedb.org/3";apiKey=$e.tmdbApiKey;country="BE";getStreamingProviders(){return this.http.get(`${this.baseUrl}/watch/providers/movie?api_key=${this.apiKey}&watch_region=${this.country}`).pipe(L(e=>e.results))}getMovieAvailability(e){return this.http.get(`${this.baseUrl}/movie/${e}/watch/providers?api_key=${this.apiKey}`)}static \u0275fac=function(t){return new(t||i)(N(me))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var rt=class i{constructor(e){this.elementRef=e}clickOutside=new te;onClick(e){this.elementRef.nativeElement.contains(e)||this.clickOutside.emit()}static \u0275fac=function(t){return new(t||i)(y(ke))};static \u0275dir=ee({type:i,selectors:[["","clickOutside",""]],hostBindings:function(t,n){t&1&&p("click",function(d){return n.onClick(d.target)},!1,Tt)},outputs:{clickOutside:"clickOutside"},standalone:!0})};var Cn=(i,e)=>e.provider_id;function bn(i,e){i&1&&(r(0,"div",8),m(1,"div",11),o())}function xn(i,e){if(i&1&&(r(0,"div",9),l(1),o()),i&2){let t=c(2);a(),C(" ",t.error()," ")}}function Sn(i,e){if(i&1){let t=b();r(0,"label",12)(1,"input",13),p("change",function(){let s=f(t).$implicit,d=c(3);return g(d.toggleProvider(s))}),o(),m(2,"img",14),r(3,"span",4),l(4),o()()}if(i&2){let t=e.$implicit,n=c(3);a(),v("checked",n.isSelected(t.provider_id)),a(),v("src","https://image.tmdb.org/t/p/original"+t.logo_path,A)("alt",t.provider_name),a(2),w(t.provider_name)}}function Mn(i,e){if(i&1&&(r(0,"div",10),V(1,Sn,5,4,"label",12,Cn),o()),i&2){let t=c(2);a(),k(t.providers())}}function wn(i,e){if(i&1){let t=b();r(0,"div",7),p("clickOutside",function(){f(t);let s=c();return g(s.isOpen.set(!1))}),_(1,bn,2,0,"div",8)(2,xn,2,1,"div",9)(3,Mn,3,0,"div",10),o()}if(i&2){let t=c();a(),h(t.loading()?1:t.error()?2:3)}}var Me=class i{providers=u([]);selectedProviders=u(new Set);isOpen=u(!1);loading=u(!1);error=u(null);selectedCount=ie(()=>this.selectedProviders().size);providersChanged=z();streamingService=Q(ne);constructor(){this.loadProviders()}loadProviders(){this.loading.set(!0),this.streamingService.getStreamingProviders().subscribe({next:e=>{this.providers.set(e),this.loading.set(!1)},error:e=>{this.error.set("Failed to load streaming providers"),this.loading.set(!1)}})}toggleDropdown(){this.isOpen.update(e=>!e)}isSelected(e){return this.selectedProviders().has(e)}toggleProvider(e){let t=new Set(this.selectedProviders());t.has(e.provider_id)?t.delete(e.provider_id):t.add(e.provider_id),this.selectedProviders.set(t),this.providersChanged.emit(Array.from(t))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-streaming-selector"]],outputs:{providersChanged:"providersChanged"},standalone:!0,features:[M],decls:9,vars:6,consts:[[1,"relative","inline-block"],[1,"flex","items-center","space-x-2","px-4","py-2","border","rounded-full","bg-white","hover:bg-gray-50","transition-colors",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"w-5","h-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-gray-500"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-lg","shadow-lg","border","p-4","z-50"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-lg","shadow-lg","border","p-4","z-50",3,"clickOutside"],[1,"flex","justify-center","py-4"],[1,"text-red-500","text-sm","text-center","py-2"],[1,"space-y-3"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-500"],[1,"flex","items-center","space-x-3","cursor-pointer","hover:bg-gray-50","p-2","rounded"],["type","checkbox",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"change","checked"],[1,"h-6","w-6","rounded",3,"src","alt"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"button",1),p("click",function(){return n.toggleDropdown()}),P(),r(2,"svg",2),m(3,"path",3),o(),j(),r(4,"span",4),l(5,"Streaming"),o(),r(6,"span",5),l(7),o()(),_(8,wn,4,1,"div",6),o()),t&2&&(a(),U("ring-2",n.isOpen())("ring-blue-500",n.isOpen()),a(6),C("(",n.selectedCount(),")"),a(),h(n.isOpen()?8:-1))},dependencies:[x,rt],encapsulation:2})};var we=class i{ratingChanged=z();onRatingChange(e){let t=e.target.value;this.ratingChanged.emit(t?+t:null)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-rating-selector"]],outputs:{ratingChanged:"ratingChanged"},standalone:!0,features:[M],decls:13,vars:0,consts:[[1,"px-4","py-3","border-0","rounded-full","bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition-colors","duration-200",3,"change"],["value",""],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"]],template:function(t,n){t&1&&(r(0,"select",0),p("change",function(d){return n.onRatingChange(d)}),r(1,"option",1),l(2,"Any Rating"),o(),r(3,"option",2),l(4,"5+ Stars"),o(),r(5,"option",3),l(6,"6+ Stars"),o(),r(7,"option",4),l(8,"7+ Stars"),o(),r(9,"option",5),l(10,"8+ Stars"),o(),r(11,"option",6),l(12,"9+ Stars"),o()())},dependencies:[x],encapsulation:2})};var ae=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(ae||{});function je(i,e){return{type:ae.Trigger,name:i,definitions:e,options:{}}}function le(i,e=null){return{type:ae.Animate,styles:e,timings:i}}function J(i){return{type:ae.Style,styles:i,offset:null}}function ce(i,e,t=null){return{type:ae.Transition,expr:i,animation:e,options:t}}function gi(i,e,t=null){return{type:ae.Query,selector:i,animation:e,options:t}}function vi(i,e){return{type:ae.Stagger,timings:i,animation:e}}var Be=class i{constructor(e){this.sanitizer=e}transform(e,t){switch(t){case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:return this.sanitizer.bypassSecurityTrustUrl(e)}}static \u0275fac=function(t){return new(t||i)(y($t,16))};static \u0275pipe=Le({name:"safe",type:i,pure:!0,standalone:!0})};var re=class i{constructor(e){this.http=e}baseUrl="https://api.themoviedb.org/3";apiKey=$e.tmdbApiKey;getMovie(e){return this.http.get(`${this.baseUrl}/movie/${e}?api_key=${this.apiKey}&append_to_response=videos`).pipe(q(t=>t.status===404?$(()=>new Error("Movie not found")):$(()=>new Error("An error occurred while fetching movie data"))))}getMovieDetails(e){return this.http.get(`${this.baseUrl}/movie/${e}?api_key=${this.apiKey}&append_to_response=credits,reviews,similar,videos`).pipe(q(t=>t.status===404?$(()=>new Error("Movie details not found")):$(()=>new Error("An error occurred while fetching movie details"))))}searchMovies(e,t){let n=`${this.baseUrl}/search/movie?api_key=${this.apiKey}&query=${encodeURIComponent(e)}`;t&&t.length>0&&(n+=`&watch_region=BE&with_watch_providers=${t.join("|")}`);let R=[1,2,3,4,5].map(W=>this.http.get(`${n}&page=${W}`).pipe(L(H=>H.results)));return Z(R).pipe(L(W=>{let H=W.flat();console.log("Before sorting:",H.map(X=>({title:X.title,vote_count:X.vote_count})));let de=H.sort((X,pt)=>(console.log(`Comparing ${X.title}(${X.vote_count}) with ${pt.title}(${pt.vote_count})`),(pt.vote_count||0)-(X.vote_count||0)));return console.log("After sorting:",de.map(X=>({title:X.title,vote_count:X.vote_count}))),de}),q(()=>$(()=>new Error("Error searching movies"))))}getPopularMovies(){return this.http.get(`${this.baseUrl}/movie/popular?api_key=${this.apiKey}`).pipe(L(e=>e.results),q(()=>$(()=>new Error("Error fetching popular movies"))))}discoverMovies(e){let t=F({api_key:this.apiKey,watch_region:"BE",with_watch_providers:"netflix",sort_by:"popularity.desc"},e),s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26].map(d=>this.http.get(`${this.baseUrl}/discover/movie`,{params:O(F({},t),{page:d})}).pipe(L(R=>R.results)));return Z(s).pipe(L(d=>{let R=d.flat();console.log("Before sorting:",R.map(H=>({title:H.title,vote_count:H.vote_count})));let W=R.sort((H,de)=>(console.log(`Comparing ${H.title}(${H.vote_count}) with ${de.title}(${de.vote_count})`),(de.vote_count||0)-(H.vote_count||0)));return console.log("After sorting:",W.map(H=>({title:H.title,vote_count:H.vote_count}))),W}),q(()=>$(()=>new Error("Error discovering movies"))))}static \u0275fac=function(t){return new(t||i)(N(me))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Dt=(i,e)=>e.provider_id,Dn=(i,e)=>e.id,En=(i,e)=>e==null?null:e.id;function Vn(i,e){if(i&1&&(r(0,"div",1),m(1,"img",14)(2,"div",15),o()),i&2){let t=c();a(),v("src","https://image.tmdb.org/t/p/original"+t.backdrop_path,A)("alt",t.title)}}function kn(i,e){if(i&1&&(r(0,"div",18),m(1,"img",19),r(2,"span",20),l(3),o()()),i&2){let t=e.$implicit;a(),v("src","https://image.tmdb.org/t/p/original"+t.logo_path,A)("alt",t.provider_name),a(2),w(t.provider_name)}}function Pn(i,e){if(i&1&&(r(0,"div")(1,"p",17),l(2,"Stream"),o(),r(3,"div",11),V(4,kn,4,3,"div",18,Dt),o()()),i&2){let t=c();a(4),k(t.flatrate)}}function Fn(i,e){if(i&1&&(r(0,"div",21),m(1,"img",19),r(2,"span",20),l(3),o()()),i&2){let t=e.$implicit;a(),v("src","https://image.tmdb.org/t/p/original"+t.logo_path,A)("alt",t.provider_name),a(2),w(t.provider_name)}}function An(i,e){if(i&1&&(r(0,"div")(1,"p",17),l(2,"Rent"),o(),r(3,"div",11),V(4,Fn,4,3,"div",21,Dt),o()()),i&2){let t=c();a(4),k(t.rent)}}function In(i,e){if(i&1&&(r(0,"div",22),m(1,"img",19),r(2,"span",20),l(3),o()()),i&2){let t=e.$implicit;a(),v("src","https://image.tmdb.org/t/p/original"+t.logo_path,A)("alt",t.provider_name),a(2),w(t.provider_name)}}function Tn(i,e){if(i&1&&(r(0,"div")(1,"p",17),l(2,"Buy"),o(),r(3,"div",11),V(4,In,4,3,"div",22,Dt),o()()),i&2){let t=c();a(4),k(t.buy)}}function On(i,e){if(i&1&&(r(0,"div",6)(1,"h3",16),l(2,"Where to Watch"),o(),_(3,Pn,6,0,"div")(4,An,6,0,"div")(5,Tn,6,0,"div"),o()),i&2){let t=e;a(3),h(t.flatrate.length>0?3:-1),a(),h(t.rent.length>0?4:-1),a(),h(t.buy.length>0?5:-1)}}function Nn(i,e){i&1&&(r(0,"p",7),l(1,"No streaming providers available"),o())}function Rn(i,e){if(i&1&&(r(0,"span",23),l(1),o()),i&2){let t=e.$implicit;a(),C(" ",t.name," ")}}function Hn(i,e){if(i&1&&(r(0,"div",11),V(1,Rn,2,1,"span",23,Dn),o()),i&2){let t=c();a(),k(t.genres)}}function jn(i,e){if(i&1&&m(0,"img",27),i&2){let t=c().$implicit;v("src","https://image.tmdb.org/t/p/w45"+t.profile_path,A)("alt",t.name)}}function Bn(i,e){if(i&1&&(r(0,"div",28)(1,"span",32),l(2),o()()),i&2){let t=c().$implicit;a(2),w(t.name[0])}}function Ln(i,e){if(i&1&&(r(0,"div",26),_(1,jn,1,2,"img",27)(2,Bn,3,1,"div",28),r(3,"div",29)(4,"p",30),l(5),o(),r(6,"p",31),l(7),o()()()),i&2){let t=e.$implicit;a(),h(t.profile_path?1:2),a(4),w(t.name),a(2),C(" ",t.character," ")}}function Un(i,e){if(i&1&&(r(0,"div")(1,"h3",24),l(2,"Top Cast"),o(),r(3,"div",25),V(4,Ln,8,3,"div",26,En),o()()),i&2){let t=c();a(4),k(t.credits==null||t.credits.cast==null?null:t.credits.cast.slice(0,6))}}function Gn(i,e){if(i&1&&(r(0,"div")(1,"h3",24),l(2,"Official Trailer"),o(),r(3,"div",33),m(4,"iframe",34),D(5,"safe"),o()()),i&2){let t=c(2);a(4),v("src",G(5,1,t.getYouTubeEmbedUrl(e.key),"resourceUrl"),It)}}function $n(i,e){if(i&1&&(r(0,"div",0),_(1,Vn,3,2,"div",1),r(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),_(6,On,6,3,"div",6)(7,Nn,2,0,"p",7),o(),r(8,"div",8)(9,"h2",9),l(10),o(),r(11,"p",10),l(12),o(),_(13,Hn,3,0,"div",11),r(14,"div",12)(15,"div")(16,"p",7),l(17,"Release Date"),o(),r(18,"p",13),l(19),D(20,"date"),o()(),r(21,"div")(22,"p",7),l(23,"Rating"),o(),r(24,"p",13),l(25),D(26,"number"),o()(),r(27,"div")(28,"p",7),l(29,"Vote Count"),o(),r(30,"p",13),l(31),o()(),r(32,"div")(33,"p",7),l(34,"Language"),o(),r(35,"p",13),l(36),D(37,"uppercase"),o()()(),_(38,Un,6,0,"div")(39,Gn,6,4,"div"),o()()()()),i&2){let t,n,s=e,d=c();a(),h(s.backdrop_path?1:-1),a(4),v("src","https://image.tmdb.org/t/p/w500"+s.poster_path,A)("alt",s.title),a(),h((t=d.providers())?6:7,t),a(4),w(s.title),a(2),w(s.overview),a(),h(s.genres!=null&&s.genres.length?13:-1),a(6),w(T(20,13,s.release_date)),a(6),C(" ",G(26,15,s.vote_average,"1.1-1"),"/10 "),a(6),w(s.vote_count),a(5),C(" ",T(37,18,s.original_language)," "),a(2),h(!(s.credits==null||s.credits.cast==null)&&s.credits.cast.length?38:-1),a(),h((n=d.getOfficialTrailer(s))?39:-1,n)}}var ot=class i{constructor(e,t){this.movieService=e;this.streamingService=t}movieId;close=new te;movie=u(null);providers=u({flatrate:[],free:[],buy:[],rent:[]});ngOnInit(){this.loadMovieDetails()}loadMovieDetails(){Z({movieDetails:this.movieService.getMovieDetails(this.movieId),providers:this.streamingService.getMovieAvailability(this.movieId)}).subscribe({next:({movieDetails:e,providers:t})=>{this.movie.set(e),this.providers.set({flatrate:t?.results?.BE?.flatrate||[],free:t?.results?.BE?.free||[],buy:t?.results?.BE?.buy||[],rent:t?.results?.BE?.rent||[]})},error:e=>console.error("Error loading movie details:",e)})}getOfficialTrailer(e){if(!e.videos?.results)return null;let t=e.videos.results.find(n=>n.type==="Trailer"&&n.official&&n.site==="YouTube");return t||e.videos.results.find(n=>n.type==="Trailer"&&n.site==="YouTube")||null}getYouTubeEmbedUrl(e){return`https://www.youtube.com/embed/${e}`}static \u0275fac=function(t){return new(t||i)(y(re),y(ne))};static \u0275cmp=S({type:i,selectors:[["app-movie-card"]],inputs:{movieId:"movieId"},outputs:{close:"close"},standalone:!0,features:[Ae([x,Be]),M],decls:1,vars:1,consts:[[1,"w-full"],[1,"relative","w-full","h-[400px]","mb-8"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/3","lg:w-1/4","flex-shrink-0","space-y-6"],[1,"w-full","rounded-lg","shadow-lg",3,"src","alt"],[1,"space-y-4"],[1,"text-sm","text-gray-500"],[1,"flex-1","space-y-6"],[1,"text-3xl","font-bold"],[1,"text-gray-600","text-lg"],[1,"flex","flex-wrap","gap-2"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-6"],[1,"font-medium"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-white","to-transparent"],[1,"text-xl","font-semibold"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","items-center","bg-blue-50","rounded-full","px-4","py-2"],[1,"w-6","h-6","rounded-full",3,"src","alt"],[1,"ml-2","text-sm","font-medium"],[1,"flex","items-center","bg-orange-50","rounded-full","px-4","py-2"],[1,"flex","items-center","bg-purple-50","rounded-full","px-4","py-2"],[1,"px-4","py-1.5","bg-gray-100","rounded-full","text-sm","font-medium"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-center","gap-3","p-2","rounded-lg","bg-gray-50"],[1,"w-12","h-12","rounded-full","object-cover",3,"src","alt"],[1,"w-12","h-12","rounded-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"font-medium","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"text-gray-500","text-lg"],[1,"aspect-video"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"w-full","h-full","rounded-lg",3,"src"]],template:function(t,n){if(t&1&&_(0,$n,40,20,"div",0),t&2){let s;h((s=n.movie())?0:-1,s)}},dependencies:[x,Lt,Ue,pe,Be],encapsulation:2,data:{animation:[je("cardContent",[ce(":enter",[gi(".animate-item",[J({opacity:0,transform:"translateY(10px)"}),vi(50,[le("300ms ease-out",J({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};var oe=class i{constructor(e){this.streamingService=e}#e=u([]);#t=u({});selectedProviders=this.#e.asReadonly();movieStreamingProviders=this.#t.asReadonly();updateSelectedProviders(e){this.#e.set(e)}loadStreamingProvidersForMovies(e){e.length&&Z(e.map(t=>this.streamingService.getMovieAvailability(t.id).pipe(L(n=>({movieId:t.id,providers:n?.results?.BE?.flatrate||[]})),q(()=>Pt({movieId:t.id,providers:[]}))))).subscribe({next:t=>{let n={};t.forEach(({movieId:s,providers:d})=>{n[s]=d}),this.#t.set(n)}})}static \u0275fac=function(t){return new(t||i)(N(ne))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var st=class i{#e=u([]);searchHistory=this.#e.asReadonly();addToSearchHistory(e){this.#e().some(t=>t.id===e.id)||this.#e.update(t=>[e,...t].slice(0,5))}clearHistory(){this.#e.set([])}static \u0275fac=function(t){return new(t||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var De=class i{constructor(e,t,n){this.movieService=e;this.streamingProviderStore=t;this.searchHistoryStore=n}#e=u(!1);#t=u(null);#n=u([]);#i=u([]);#s=u("");#r=u(null);#o=u(null);selectedProviders=u([]);loading=this.#e.asReadonly();error=this.#t.asReadonly();movies=this.#n.asReadonly();suggestions=this.#i.asReadonly();searchTerm=this.#s.asReadonly();selectedMovie=this.#o.asReadonly();searchHistory=ie(()=>this.searchHistoryStore.searchHistory());updateSearchTerm(e){this.#s.set(e)}setSelectedMovie(e){this.#o.set(e),e&&(this.searchHistoryStore.addToSearchHistory(e),this.loadMovieDetails(e.id))}loadMovieDetails(e){this.movieService.getMovie(e).subscribe({next:t=>this.#o.set(O(F({},t),{videos:[]})),error:t=>{console.error("Error loading movie details:",t),this.#t.set("Error loading movie details")}})}setRatingThreshold(e){this.#r.set(e),this.refreshResults()}refreshResults(){let e=this.searchTerm();e.length>=2&&this.searchMovies(e)}searchMovies(e){if(e.length<2){this.clearResults();return}this.#e.set(!0),this.#t.set(null),this.movieService.searchMovies(e).subscribe({next:t=>{let n=this.filterMoviesByRating(t.map(s=>O(F({},s),{videos:[]})));this.#n.set(n),this.#i.set(n.slice(0,10)),this.streamingProviderStore.loadStreamingProvidersForMovies(n),this.#e.set(!1)},error:t=>this.handleError(t)})}filterMoviesByRating(e){return this.#r()===null?e:e.filter(t=>t.vote_average>=this.#r())}handleError(e){console.error("Search error:",e),this.#i.set([]),this.#n.set([]),this.#e.set(!1),this.#t.set(`API Error: ${e.message}`)}clearResults(){this.#n.set([]),this.#i.set([]),this.#t.set(null)}updateSelectedProviders(e){this.selectedProviders.set(e)}closeMovieDetails(){this.setSelectedMovie(null)}static \u0275fac=function(t){return new(t||i)(N(re),N(oe),N(st))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Wn=(i,e)=>e.id;function qn(i,e){if(i&1){let t=b();r(0,"button",15),p("click",function(){f(t);let s=c().$implicit,d=c();return g(d.toggleFavorite(s))}),P(),r(1,"svg",16),m(2,"path",17),o()()}if(i&2){let t=c().$implicit,n=c();a(),U("fill-current",n.favoriteMovies().has(t.id))}}function Yn(i,e){if(i&1){let t=b();r(0,"div",5),m(1,"img",7),r(2,"div",8)(3,"h3",9),l(4),o(),r(5,"p",10),l(6),D(7,"date"),o(),r(8,"div",11)(9,"span",3),l(10),D(11,"number"),o(),_(12,qn,3,2,"button",12),o(),r(13,"div",13)(14,"button",14),p("click",function(){let s=f(t).$implicit,d=c();return g(d.openMovieDetails(s))}),l(15," View Details "),o()()()()}if(i&2){let t=e.$implicit,n=c();a(),v("src","https://image.tmdb.org/t/p/w500"+t.poster_path,A)("alt",t.title),a(3),w(t.title),a(2),C(" ",G(7,6,t.release_date,"yyyy")," "),a(4),C(" Rating: ",G(11,9,t.vote_average,"1.1-1")," "),a(2),h(n.authService.isAuthenticated()?12:-1)}}function Kn(i,e){if(i&1){let t=b();r(0,"div",18),p("click",function(){f(t);let s=c();return g(s.closeMovieDetails())}),r(1,"div",19),p("click",function(s){return f(t),g(s.stopPropagation())}),r(2,"div",20)(3,"h3",21),l(4,"Movie Details"),o(),r(5,"button",22),p("click",function(){f(t);let s=c();return g(s.closeMovieDetails())}),P(),r(6,"svg",23),m(7,"path",24),o()()(),j(),r(8,"div",25)(9,"app-movie-card",26),p("close",function(){f(t);let s=c();return g(s.closeMovieDetails())}),o()()()()}if(i&2){let t=c();a(9),v("movieId",t.searchStore.selectedMovie().id)}}var Ee=class i{constructor(e,t){this.authService=e;this.searchStore=t;this.authService.isAuthenticated()&&this.loadFavoriteMovies()}movies=Y.required();favoriteMovies=u(new Set);loadFavoriteMovies(){this.authService.getFavoriteMovies().subscribe({next:e=>{this.favoriteMovies.set(new Set(e.map(t=>t.id)))},error:e=>console.error("Error loading favorites:",e)})}toggleFavorite(e){if(!this.authService.isAuthenticated())return;let t=this.favoriteMovies().has(e.id);(t?this.authService.removeFromFavorites(e.id):this.authService.addToFavorites(e.id)).subscribe({next:()=>{let s=new Set(this.favoriteMovies());t?s.delete(e.id):s.add(e.id),this.favoriteMovies.set(s)},error:s=>console.error("Error updating favorites:",s)})}openMovieDetails(e){this.searchStore.setSelectedMovie(e),document.body.style.overflow="hidden"}closeMovieDetails(){this.searchStore.closeMovieDetails(),document.body.style.overflow="auto"}static \u0275fac=function(t){return new(t||i)(y(ze),y(De))};static \u0275cmp=S({type:i,selectors:[["app-movie-search-results"]],inputs:{movies:[1,"movies"]},standalone:!0,features:[M],decls:11,vars:2,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","flex","flex-col"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"w-full","h-64","object-cover",3,"src","alt"],[1,"p-4","flex","flex-col","flex-grow"],[1,"font-semibold","text-lg","mb-2"],[1,"text-gray-600","text-sm","mb-2"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-red-500","hover:text-red-600"],[1,"mt-auto"],[1,"w-full","py-2","px-4","bg-blue-500","hover:bg-blue-600","text-white","rounded-md","transition-colors","duration-200",3,"click"],[1,"text-red-500","hover:text-red-600",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","w-full","max-h-[90vh]","overflow-y-auto","m-4",3,"click"],[1,"p-4","flex","justify-between","items-center","border-b"],[1,"text-xl","font-semibold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4"],[3,"close","movieId"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),l(4,"Search Results"),o(),r(5,"p",3),l(6),o()()(),r(7,"div",4),V(8,Yn,16,12,"div",5,Wn),o(),_(10,Kn,10,1,"div",6),o()),t&2&&(a(6),C(" Found ",n.movies().length," movies "),a(2),k(n.movies()),a(2),h(n.searchStore.selectedMovie()?10:-1))},dependencies:[x,Ue,pe,ot],encapsulation:2,data:{animation:[je("modalAnimation",[ce(":enter",[J({opacity:0}),le("2000ms ease-out",J({opacity:1}))]),ce(":leave",[le("2000ms ease-in",J({opacity:0}))])]),je("modalContent",[ce(":enter",[J({transform:"scale(0.95)",opacity:0}),le("200ms ease-out",J({transform:"scale(1)",opacity:1}))]),ce(":leave",[le("200ms ease-in",J({transform:"scale(0.95)",opacity:0}))])])]}})};var yi=(i,e)=>e.id;function Jn(i,e){if(i&1){let t=b();r(0,"li",17),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectMovie(s))}),m(1,"span",18),D(2,"titlecase"),D(3,"highlight"),r(4,"span",19),l(5),D(6,"date"),o()()}if(i&2){let t=e.$implicit,n=c(3);a(),v("innerHTML",G(3,4,T(2,2,t.title),n.searchStore.searchTerm()),Pe),a(4),C("(",G(6,7,t.release_date,"yyyy"),")")}}function Xn(i,e){if(i&1&&(r(0,"div",13)(1,"div",15),l(2,"Suggestions"),o(),r(3,"ul"),V(4,Jn,7,10,"li",16,yi),o()()),i&2){let t=c(2);a(4),k(t.searchStore.suggestions())}}function Zn(i,e){if(i&1){let t=b();r(0,"button",22),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectMovie(s))}),l(1),o()}if(i&2){let t=e.$implicit;a(),C(" ",t.title," ")}}function Qn(i,e){if(i&1&&(r(0,"div",14)(1,"div",15),l(2,"Recent searches"),o(),r(3,"div",20),V(4,Zn,2,1,"button",21,yi),o()()),i&2){let t=c(2);a(4),k(t.searchStore.searchHistory())}}function er(i,e){if(i&1&&(r(0,"div",10),_(1,Xn,6,0,"div",13)(2,Qn,6,0,"div",14),o()),i&2){let t=c();a(),h(t.searchStore.suggestions().length>0?1:-1),a(),h(t.searchStore.searchHistory().length>0?2:-1)}}function tr(i,e){if(i&1&&(r(0,"p",11),l(1),o()),i&2){let t=c();a(),w(t.searchStore.error())}}function ir(i,e){if(i&1&&m(0,"app-movie-search-results",12),i&2){let t=c();v("movies",t.searchStore.movies())}}var at=class i{constructor(e){this.searchStore=e}isLoading=Y(!1);error=Y(void 0);searchSubmitted=z();isInputFocused=u(!1);maxSuggestions=10;ngOnInit(){this.searchStore.clearResults()}onSearchTermChange(e){this.searchStore.updateSearchTerm(e),this.searchStore.searchMovies(e)}onInputBlur(){setTimeout(()=>{this.isInputFocused.set(!1)},200)}onProvidersChanged(e){this.searchStore.updateSelectedProviders(e)}selectMovie(e){console.log("Selecting movie:",e),this.searchStore.setSelectedMovie(e),this.searchStore.searchMovies(e.title),this.isInputFocused.set(!1),this.searchSubmitted.emit(e)}search(){let e=this.searchStore.searchTerm();e.length>=2&&(this.searchStore.searchMovies(e),this.isInputFocused.set(!1))}onRatingChange(e){let t=e.target.value;this.searchStore.setRatingThreshold(t?+t:null)}static \u0275fac=function(t){return new(t||i)(y(De))};static \u0275cmp=S({type:i,selectors:[["app-movie-search"]],inputs:{isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{searchSubmitted:"searchSubmitted"},standalone:!0,features:[M],decls:13,vars:4,consts:[[1,"relative","w-full"],[1,"relative"],[1,"relative","flex","items-center","gap-4"],[1,"relative","flex-1"],[1,"absolute","inset-y-0","left-5","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search movies",1,"w-full","pl-14","pr-4","py-3","border-0","rounded-full","bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition-colors","duration-200",3,"ngModelChange","focus","blur","keyup.enter","ngModel"],[3,"ratingChanged"],[3,"providersChanged"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"text-red-500","text-sm","mt-2"],[3,"movies"],[1,"p-3"],[1,"p-3","border-t","border-gray-100"],[1,"text-xs","text-gray-500","mb-2"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer","rounded"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer","rounded",3,"click"],[3,"innerHTML"],[1,"text-sm","text-gray-500"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","text-sm","bg-gray-100","hover:bg-gray-200","rounded-full"],[1,"px-3","py-1","text-sm","bg-gray-100","hover:bg-gray-200","rounded-full",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),P(),r(5,"svg",5),m(6,"path",6),o()(),j(),r(7,"input",7),p("ngModelChange",function(d){return n.onSearchTermChange(d)})("focus",function(){return n.isInputFocused.set(!0)})("blur",function(){return n.onInputBlur()})("keyup.enter",function(){return n.search()}),o()(),r(8,"app-rating-selector",8),p("ratingChanged",function(d){return n.searchStore.setRatingThreshold(d)}),o(),r(9,"app-streaming-selector",9),p("providersChanged",function(d){return n.onProvidersChanged(d)}),o()(),_(10,er,3,2,"div",10)(11,tr,2,1,"p",11)(12,ir,1,1,"app-movie-search-results",12),o()()),t&2&&(a(7),v("ngModel",n.searchStore.searchTerm()),a(3),h(n.isInputFocused()&&(n.searchStore.suggestions().length>0||n.searchStore.searchHistory().length>0)?10:-1),a(),h(n.searchStore.error()?11:-1),a(),h(n.searchStore.movies().length>0?12:-1))},dependencies:[x,K,pe,ye,_e,Je,He,Se,Me,we,Ee],encapsulation:2})};var lt=class i{constructor(e,t){this.movieService=e;this.streamingProviderStore=t}#e=u(!1);#t=u(null);#n=u([]);#i=u(null);loading=this.#e.asReadonly();error=this.#t.asReadonly();movies=this.#n.asReadonly();ratingThreshold=this.#i.asReadonly();discoverMovies(){this.#e.set(!0),this.#t.set(null);let e={with_watch_providers:this.streamingProviderStore.selectedProviders().join("|"),"vote_average.gte":this.#i()};this.movieService.discoverMovies(e).subscribe({next:t=>{let n=this.filterMoviesByRating(t);this.#n.set(n),this.streamingProviderStore.loadStreamingProvidersForMovies(n),this.#e.set(!1)},error:t=>this.handleError(t)})}setRatingThreshold(e){this.#i.set(e),this.discoverMovies()}filterMoviesByRating(e){return this.#i()===null?e:e.filter(t=>t.vote_average>=this.#i())}handleError(e){console.error("Discover error:",e),this.#n.set([]),this.#e.set(!1),this.#t.set(`API Error: ${e.message}`)}clearResults(){this.#n.set([]),this.#t.set(null)}static \u0275fac=function(t){return new(t||i)(N(re),N(oe))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function rr(i,e){if(i&1&&(r(0,"p",6),l(1),o()),i&2){let t=c();a(),w(t.discoverStore.error())}}function or(i,e){if(i&1&&m(0,"app-movie-search-results",7),i&2){let t=c();v("movies",t.discoverStore.movies())}}var ct=class i{constructor(e,t){this.discoverStore=e;this.streamingProviderStore=t}ngOnInit(){this.discoverStore.clearResults()}onProvidersChanged(e){this.streamingProviderStore.updateSelectedProviders(e),this.discoverStore.discoverMovies()}search(){this.discoverStore.discoverMovies()}static \u0275fac=function(t){return new(t||i)(y(lt),y(oe))};static \u0275cmp=S({type:i,selectors:[["app-movie-filter"]],standalone:!0,features:[M],decls:9,vars:2,consts:[[1,"relative","w-full"],[1,"relative"],[1,"relative","flex","items-center","gap-4"],[3,"ratingChanged"],[3,"providersChanged"],[1,"px-6","py-3","bg-blue-500","text-white","rounded-full","hover:bg-blue-600","transition-colors",3,"click"],[1,"text-red-500","text-sm","mt-2"],[3,"movies"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-rating-selector",3),p("ratingChanged",function(d){return n.discoverStore.setRatingThreshold(d)}),o(),r(4,"app-streaming-selector",4),p("providersChanged",function(d){return n.onProvidersChanged(d)}),o(),r(5,"button",5),p("click",function(){return n.search()}),l(6," Search Movies "),o()(),_(7,rr,2,1,"p",6)(8,or,1,1,"app-movie-search-results",7),o()()),t&2&&(a(7),h(n.discoverStore.error()?7:-1),a(),h(n.discoverStore.movies().length>0?8:-1))},dependencies:[x,Me,we,Ee],encapsulation:2})};var Ci=[{path:"",component:nt,children:[{path:"by-title",component:at},{path:"by-filter",component:ct},{path:"",redirectTo:"by-title",pathMatch:"full"}]}];var bi=[{path:"",redirectTo:"pokemon",pathMatch:"full"},{path:"pokemon",component:it,title:"Pokemon Cards"},{path:"movies",loadChildren:()=>Ci},{path:"profile",loadComponent:()=>import("./chunk-VHUXK43M.js").then(i=>i.ProfilePageComponent),title:"Profile"},{path:"preferences",loadComponent:()=>import("./chunk-6KJZPMKS.js").then(i=>i.PreferencesPageComponent),title:"Preferences"},{path:"login",loadComponent:()=>import("./chunk-HNTYTZQ6.js").then(i=>i.LoginPageComponent),title:"Login"},{path:"auth/callback",loadComponent:()=>import("./chunk-TFAU77MY.js").then(i=>i.AuthCallbackComponent),title:"Authenticating..."}];var xi={providers:[Ht({eventCoalescing:!0}),zt(bi),Ut()]};var Ve=class i{isNavOpen=u(!0);toggleNav(){this.isNavOpen.update(e=>!e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function sr(i,e){if(i&1){let t=b();r(0,"div",27)(1,"a",28)(2,"span",29),l(3,"person"),o(),l(4," Profile "),o(),r(5,"a",30)(6,"span",29),l(7,"settings"),o(),l(8," Preferences "),o(),r(9,"button",31),p("click",function(){f(t);let s=c(2);return g(s.signOut())}),r(10,"span",29),l(11,"logout"),o(),l(12," Sign out "),o()()}}function ar(i,e){if(i&1){let t=b();r(0,"div",19)(1,"button",22),p("click",function(){f(t);let s=c();return g(s.toggleUserMenu())}),r(2,"div",23)(3,"span",24),l(4),o()(),r(5,"span",25),l(6),o(),r(7,"span",26),l(8),o()(),_(9,sr,13,0,"div",27),o()}if(i&2){let t=c();a(4),w(t.getUserInitials()),a(2),w(t.userName()),a(2),C(" ",t.isUserMenuOpen()?"expand_less":"expand_more"," "),a(),h(t.isUserMenuOpen()?9:-1)}}function lr(i,e){i&1&&(r(0,"a",20)(1,"span",32),l(2,"login"),o(),r(3,"span"),l(4,"Log in"),o()())}function cr(i,e){if(i&1){let t=b();r(0,"div",33),p("click",function(){f(t);let s=c();return g(s.navigationService.toggleNav())}),o()}}var dt=class i{navigationService=Q(Ve);isUserMenuOpen=u(!1);isAuthenticated=u(!1);userName=u("John Doe");toggleUserMenu(){this.isUserMenuOpen.update(e=>!e)}getUserInitials(){return this.userName().split(" ").map(e=>e[0]).join("").toUpperCase()}signOut(){this.isAuthenticated.set(!1),this.isUserMenuOpen.set(!1)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-nav"]],standalone:!0,features:[M],decls:29,vars:6,consts:[[1,"fixed","left-0","top-0","h-full","w-64","bg-[#6366F1]","text-white","p-4","transition-transform","duration-300","z-20"],[1,"flex","flex-col","h-full"],[1,"mb-8"],["width","32","height","32","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","16","cy","16","r","15","fill","#3B82F6"],["x","8","y","10","width","16","height","12","fill","white","opacity","0.9"],["x","10","y","12","width","2","height","2","fill","#3B82F6"],["x","10","y","18","width","2","height","2","fill","#3B82F6"],["x","20","y","12","width","2","height","2","fill","#3B82F6"],["x","20","y","18","width","2","height","2","fill","#3B82F6"],["cx","14","cy","16","r","3","stroke","white","stroke-width","2","fill","none"],["d","M16.5 18.5L19.5 21.5","stroke","white","stroke-width","2","stroke-linecap","round"],["d","M20 14C21.5 14 22.5 15 23 16","stroke","white","stroke-width","1.5","stroke-linecap","round","fill","none"],["d","M20 16C21 16 21.5 16.5 22 17","stroke","white","stroke-width","1.5","stroke-linecap","round","fill","none"],[1,"space-y-4","flex-grow"],["routerLink","/pokemon","routerLinkActive","bg-white/20",1,"flex","items-center","space-x-3","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"material-icons"],["routerLink","/movies","routerLinkActive","bg-white/20",1,"flex","items-center","space-x-3","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"mt-auto"],[1,"relative"],["routerLink","/login",1,"flex","items-center","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"lg:hidden","fixed","inset-0","bg-black","bg-opacity-50","z-10"],[1,"w-full","flex","items-center","px-4","py-2","rounded-lg","hover:bg-white/10",3,"click"],[1,"h-8","w-8","rounded-full","bg-white/20","flex","items-center","justify-center","mr-3"],[1,"text-sm","font-medium"],[1,"flex-grow","text-left"],[1,"material-icons","text-sm"],[1,"absolute","bottom-full","left-0","w-full","mb-2","bg-white","rounded-lg","shadow-lg","overflow-hidden"],["routerLink","/profile",1,"block","px-4","py-2","text-gray-700","hover:bg-gray-100"],[1,"material-icons","text-sm","mr-2"],["routerLink","/preferences",1,"block","px-4","py-2","text-gray-700","hover:bg-gray-100"],[1,"w-full","px-4","py-2","text-left","text-gray-700","hover:bg-gray-100",3,"click"],[1,"material-icons","mr-3"],[1,"lg:hidden","fixed","inset-0","bg-black","bg-opacity-50","z-10",3,"click"]],template:function(t,n){t&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2),P(),r(3,"svg",3),m(4,"circle",4)(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"rect",8)(9,"rect",9)(10,"circle",10)(11,"path",11)(12,"path",12)(13,"path",13),o()(),j(),r(14,"div",14)(15,"a",15)(16,"span",16),l(17,"catching_pokemon"),o(),r(18,"span"),l(19,"Pokemon"),o()(),r(20,"a",17)(21,"span",16),l(22,"movie"),o(),r(23,"span"),l(24,"Movies"),o()()(),r(25,"div",18),_(26,ar,10,4,"div",19)(27,lr,5,0,"a",20),o()()(),_(28,cr,1,0,"div",21)),t&2&&(U("translate-x-0",n.navigationService.isNavOpen())("-translate-x-full",!n.navigationService.isNavOpen()),a(26),h(n.isAuthenticated()?26:27),a(2),h(n.navigationService.isNavOpen()?28:-1))},dependencies:[x,he],encapsulation:2})};function dr(i,e){i&1&&(P(),r(0,"svg",5),m(1,"path",12),o())}function ur(i,e){i&1&&(P(),r(0,"svg",5),m(1,"path",13),o())}function pr(i,e){if(i&1){let t=b();r(0,"div",19)(1,"a",20),l(2," Your Profile "),o(),r(3,"a",21),l(4," Preferences "),o(),r(5,"button",22),p("click",function(){f(t);let s=c(2);return g(s.signOut())}),l(6," Sign out "),o()()}}function mr(i,e){if(i&1){let t=b();r(0,"div",9)(1,"button",14),p("click",function(){f(t);let s=c();return g(s.toggleUserMenu())}),m(2,"img",15),r(3,"span",16),l(4),o(),P(),r(5,"svg",17),m(6,"path",18),o()(),_(7,pr,7,0,"div",19),o()}if(i&2){let t,n=c();a(2),v("src",n.authService.getUserAvatar(),A),a(2),C(" ",(t=n.authService.currentUser())==null?null:t.username," "),a(3),h(n.isUserMenuOpen()?7:-1)}}function hr(i,e){if(i&1){let t=b();r(0,"button",23),p("click",function(){f(t);let s=c();return g(s.authService.login())}),l(1," Log in "),o()}}var ut=class i{authService=Q(ze);isUserMenuOpen=u(!1);navigationService=Q(Ve);toggleUserMenu(){this.isUserMenuOpen.update(e=>!e)}signOut(){this.isUserMenuOpen.set(!1),this.authService.logout()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-root"]],standalone:!0,features:[M],decls:16,vars:6,consts:[[1,"min-h-screen","bg-gray-50"],[1,"transition-all","duration-300"],[1,"bg-white","border-b","px-8","py-4"],[1,"flex","items-center","justify-between"],[1,"p-2","hover:bg-gray-100","rounded-full","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-500"],[1,"flex","items-center","space-x-4"],[1,"p-2","hover:bg-gray-100","rounded-full"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],[1,"relative"],[1,"text-sm","font-medium","text-gray-700","hover:bg-gray-100","rounded-lg","px-4","py-2"],[1,"p-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","space-x-2","hover:bg-gray-100","rounded-lg","p-2",3,"click"],["alt","Profile",1,"h-8","w-8","rounded-full",3,"src"],[1,"text-sm","font-medium","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","py-1"],["routerLink","/profile",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],["routerLink","/preferences",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"block","w-full","text-left","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"text-sm","font-medium","text-gray-700","hover:bg-gray-100","rounded-lg","px-4","py-2",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),m(1,"app-nav"),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),p("click",function(){return n.navigationService.toggleNav()}),_(6,dr,2,0,":svg:svg",5)(7,ur,2,0,":svg:svg",5),o(),r(8,"div",6)(9,"button",7),P(),r(10,"svg",5),m(11,"path",8),o()(),_(12,mr,8,3,"div",9)(13,hr,2,0,"button",10),o()()(),j(),r(14,"main",11),m(15,"router-outlet"),o()()()),t&2&&(a(2),U("ml-64",n.navigationService.isNavOpen())("ml-0",!n.navigationService.isNavOpen()),a(4),h(n.navigationService.isNavOpen()?6:7),a(6),h(n.authService.isAuthenticated()?12:13))},dependencies:[x,Ge,he,dt],encapsulation:2})};Gt(ut,xi).catch(i=>console.error(i));
