import{a as at,b as G,c as Pe,d as kt,e as M,f as ae,g as Ft,h as Pt,j as At,l as Ae,m as It,n as Ie,o as Te}from"./chunk-QUD6TSQW.js";import{$a as c,Aa as a,Ba as v,Da as rt,Fa as u,Ga as Ce,I as vt,Ka as y,M as tt,Ma as _,N as $,Na as St,O as it,Oa as X,Pa as Mt,Q as oe,Qa as m,Ra as ot,S as z,Sa as w,T as _e,Ta as D,Ua as r,V as x,Va as o,W as nt,Wa as h,X as Y,Xa as C,Y as yt,_a as p,a as O,ab as st,b as H,ba as Ct,bb as l,ca as f,cb as V,da as g,db as b,ea as k,eb as be,fa as I,fb as S,ga as bt,gb as E,hb as T,i as gt,ib as q,ka as K,kb as wt,l as _t,m as Fe,n as j,na as W,oa as L,ob as Dt,pa as ve,q as N,qb as Vt,sb as Et,tb as se,ub as ee,v as Q,va as ye,wa as P,x as B,ya as xt}from"./chunk-EL7H5PZR.js";var Lt=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(n){return new(n||i)(v(rt),v(ve))}}static{this.\u0275dir=Y({type:i})}}return i})(),ui=(()=>{class i extends Lt{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=bt(i)))(s||i)}})()}static{this.\u0275dir=Y({type:i,features:[Ce]})}}return i})(),Gt=new oe("");var pi={provide:Gt,useExisting:tt(()=>ue),multi:!0};function hi(){let i=at()?at().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var mi=new oe(""),ue=(()=>{class i extends Lt{constructor(t,n,s){super(t,n),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hi())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(n){return new(n||i)(v(rt),v(ve),v(mi,8))}}static{this.\u0275dir=Y({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&p("input",function(A){return s._handleInput(A.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(A){return s._compositionEnd(A.target.value)})},features:[be([pi]),Ce]})}}return i})();var fi=new oe(""),gi=new oe("");function Ut(i){return i!=null}function $t(i){return wt(i)?_t(i):i}function zt(i){let e={};return i.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function Wt(i,e){return e.map(t=>t(i))}function _i(i){return!i.validate}function qt(i){return i.map(e=>_i(e)?e:t=>e.validate(t))}function vi(i){if(!i)return null;let e=i.filter(Ut);return e.length==0?null:function(t){return zt(Wt(t,e))}}function Yt(i){return i!=null?vi(qt(i)):null}function yi(i){if(!i)return null;let e=i.filter(Ut);return e.length==0?null:function(t){let n=Wt(t,e).map($t);return Q(n).pipe(N(zt))}}function Kt(i){return i!=null?yi(qt(i)):null}function Tt(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Ci(i){return i._rawValidators}function bi(i){return i._rawAsyncValidators}function lt(i){return i?Array.isArray(i)?i:[i]:[]}function Ne(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ot(i,e){let t=lt(e);return lt(i).forEach(s=>{Ne(t,s)||t.push(s)}),t}function Nt(i,e){return lt(e).filter(t=>!Ne(i,t))}var Re=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ct=class extends Re{get formDirective(){return null}get path(){return null}},De=class extends Re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},dt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lr=H(O({},xi),{"[class.ng-submitted]":"isSubmitted"}),je=(()=>{class i extends dt{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||i)(v(De,2))}}static{this.\u0275dir=Y({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&X("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ce]})}}return i})();var xe="VALID",Oe="INVALID",le="PENDING",Se="DISABLED",de=class{},He=class extends de{constructor(e,t){super(),this.value=e,this.source=t}},Me=class extends de{constructor(e,t){super(),this.pristine=e,this.source=t}},we=class extends de{constructor(e,t){super(),this.touched=e,this.source=t}},ce=class extends de{constructor(e,t){super(),this.status=e,this.source=t}};function Si(i){return(Be(i)?i.validators:i)||null}function Mi(i){return Array.isArray(i)?Yt(i):i||null}function wi(i,e){return(Be(e)?e.asyncValidators:i)||null}function Di(i){return Array.isArray(i)?Kt(i):i||null}function Be(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var ut=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=se(()=>this.statusReactive()),this.statusReactive=u(void 0),this._pristine=se(()=>this.pristineReactive()),this.pristineReactive=u(!0),this._touched=se(()=>this.touchedReactive()),this.touchedReactive=u(!1),this._events=new gt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ee(this.statusReactive)}set status(e){ee(()=>this.statusReactive.set(e))}get valid(){return this.status===xe}get invalid(){return this.status===Oe}get pending(){return this.status==le}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get pristine(){return ee(this.pristineReactive)}set pristine(e){ee(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ee(this.touchedReactive)}set touched(e){ee(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ot(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ot(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nt(e,this._rawAsyncValidators))}hasValidator(e){return Ne(this._rawValidators,e)}hasAsyncValidator(e){return Ne(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(O({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new we(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new we(!1,n))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(O({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Me(!1,n))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new Me(!0,n))}markAsPending(e={}){this.status=le;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ce(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Se,this.errors=null,this._forEachChild(s=>{s.disable(H(O({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new He(this.value,n)),this._events.next(new ce(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xe,this._forEachChild(n=>{n.enable(H(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xe||this.status===le)&&this._runAsyncValidator(n,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new He(this.value,t)),this._events.next(new ce(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=le,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=$t(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,s)=>n&&n._find(s),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new ce(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Oe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(le)?le:this._anyControlsHaveStatus(Oe)?Oe:xe}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),s&&this._events.next(new Me(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new we(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Be(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Mi(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Di(this._rawAsyncValidators)}};var Xt=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>pt}),pt="always";function Vi(i,e){return[...e.path,i]}function Ei(i,e,t=pt){Fi(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Pi(i,e),Ii(i,e),Ai(i,e),ki(i,e)}function Rt(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ki(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function Fi(i,e){let t=Ci(i);e.validator!==null?i.setValidators(Tt(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=bi(i);e.asyncValidator!==null?i.setAsyncValidators(Tt(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let s=()=>i.updateValueAndValidity();Rt(e._rawValidators,s),Rt(e._rawAsyncValidators,s)}function Pi(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Jt(i,e)})}function Ai(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Jt(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Jt(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ii(i,e){let t=(n,s)=>{e.valueAccessor.writeValue(n),s&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function Ti(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Oi(i){return Object.getPrototypeOf(i.constructor)===ui}function Ni(i,e){if(!e)return null;Array.isArray(e);let t,n,s;return e.forEach(d=>{d.constructor===ue?t=d:Oi(d)?n=d:s=d}),s||n||t||null}function Ht(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function jt(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ri=class extends ut{constructor(e=null,t,n){super(Si(t),wi(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Be(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ht(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ht(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hi={provide:De,useExisting:tt(()=>Ve)},Bt=Promise.resolve(),Ve=(()=>{class i extends De{constructor(t,n,s,d,A,re){super(),this._changeDetectorRef=A,this.callSetDisabledState=re,this.control=new Ri,this._registered=!1,this.name="",this.update=new K,this._parent=t,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Ni(this,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ti(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ei(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Bt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,s=n!==0&&Et(n);Bt.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vi(t,this._parent):[t]}static{this.\u0275fac=function(n){return new(n||i)(v(ct,9),v(fi,10),v(gi,10),v(Gt,10),v(Vt,8),v(Xt,8))}}static{this.\u0275dir=Y({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[be([Hi]),Ce,Ct]})}}return i})();var ji=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=nt({type:i})}static{this.\u0275inj=it({})}}return i})();var pe=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Xt,useValue:t.callSetDisabledState??pt}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=nt({type:i})}static{this.\u0275inj=it({imports:[ji]})}}return i})();var Le={normal:{bg:"bg-gray-100",text:"text-gray-800"},fire:{bg:"bg-red-100",text:"text-red-800"},water:{bg:"bg-blue-100",text:"text-blue-800"},electric:{bg:"bg-yellow-100",text:"text-yellow-800"},grass:{bg:"bg-green-100",text:"text-green-800"},ice:{bg:"bg-cyan-100",text:"text-cyan-800"},fighting:{bg:"bg-orange-100",text:"text-orange-800"},poison:{bg:"bg-purple-100",text:"text-purple-800"},ground:{bg:"bg-amber-100",text:"text-amber-800"},flying:{bg:"bg-indigo-100",text:"text-indigo-800"},psychic:{bg:"bg-pink-100",text:"text-pink-800"},bug:{bg:"bg-lime-100",text:"text-lime-800"},rock:{bg:"bg-stone-100",text:"text-stone-800"},ghost:{bg:"bg-violet-100",text:"text-violet-800"},dragon:{bg:"bg-teal-100",text:"text-teal-800"},dark:{bg:"bg-zinc-100",text:"text-zinc-800"},steel:{bg:"bg-slate-100",text:"text-slate-800"},fairy:{bg:"bg-rose-100",text:"text-rose-800"}},Qt=255,ei=5;var Bi=(i,e)=>e.type.name;function Li(i,e){if(i&1&&(r(0,"span",2),l(1),E(2,"titlecase"),o()),i&2){let t=e.$implicit,n=c();Mt(n.getTypeClasses(t.type.name)),a(),b(" ",T(2,3,t.type.name)," ")}}var he=class i{types=[];getTypeClasses(e){let t=Le[e];return`${t.bg} ${t.text}`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-pokemon-types"]],inputs:{types:"types"},standalone:!0,features:[S],decls:3,vars:0,consts:[[1,"flex","gap-2"],[1,"px-3","py-1","rounded-full","text-sm",3,"class"],[1,"px-3","py-1","rounded-full","text-sm"]],template:function(t,n){t&1&&(r(0,"div",0),w(1,Li,3,5,"span",1,Bi),o()),t&2&&(a(),D(n.types))},dependencies:[M,G],encapsulation:2})};var Gi=(i,e)=>e.name;function Ui(i,e){if(i&1){let t=C();r(0,"tr",7)(1,"td",8)(2,"div",9),l(3),E(4,"titlecase"),o()(),r(5,"td",8),h(6,"img",10),o(),r(7,"td",8),h(8,"app-pokemon-types",11),o(),r(9,"td",12)(10,"div",13)(11,"button",14),p("click",function(){let s=f(t).$implicit,d=c();return g(d.reloadPokemon(s))}),k(),r(12,"svg",15),h(13,"path",16),o()(),I(),r(14,"button",17),p("click",function(){let s=f(t).$implicit,d=c();return g(d.deletePokemon(s))}),k(),r(15,"svg",15),h(16,"path",18),o()()()()()}if(i&2){let t=e.$implicit;a(3),b(" ",T(4,4,t.name)," "),a(3),_("src",t.sprites.front_default,P)("alt",t.name),a(2),_("types",t.types)}}var Ge=class i{searchHistory=L([]);deleteEntry=W();reloadEntry=W();deletePokemon(e){this.deleteEntry.emit(e)}reloadPokemon(e){this.reloadEntry.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-pokemon-history-table"]],inputs:{searchHistory:[1,"searchHistory"]},outputs:{deleteEntry:"deleteEntry",reloadEntry:"reloadEntry"},standalone:!0,features:[S],decls:17,vars:0,consts:[[1,"mt-8"],[1,"text-xl","font-semibold","mb-4"],[1,"w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"h-12","w-12",3,"src","alt"],[3,"types"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"flex","justify-end","space-x-2"],["title","Reload Pokemon",1,"text-blue-600","hover:text-blue-900","transition-colors","duration-150",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["title","Delete from history",1,"text-red-600","hover:text-red-900","transition-colors","duration-150",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h2",1),l(2,"Recent Pokemon Searches"),o(),r(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),l(7," Pokemon "),o(),r(8,"th",4),l(9," Sprite "),o(),r(10,"th",4),l(11," Types "),o(),r(12,"th",5),l(13," Actions "),o()()(),r(14,"tbody",6),w(15,Ui,17,6,"tr",7,Gi),o()()()),t&2&&(a(15),D(n.searchHistory()))},dependencies:[M,G,he],encapsulation:2})};var me=class i{constructor(e){this.http=e;this.loadPokemonList()}apiUrl="https://pokeapi.co/api/v2/pokemon/";pokemonList=[];maxPokemonSuggestions=5;loadPokemonList(){this.http.get(`${this.apiUrl}?limit=100000&offset=0`).subscribe({next:e=>{this.pokemonList=e.results.map(t=>t.name)},error:e=>console.error("Error loading Pokemon list:",e)})}getPokemon(e){return this.http.get(`${this.apiUrl}${e.toLowerCase()}`).pipe(B(t=>t.status===404?j(()=>new Error("Pokemon not found")):j(()=>new Error("An error occurred while fetching Pokemon data"))))}filterPokemon(e){let t=e.toLowerCase();return this.pokemonList.filter(n=>n.startsWith(t)).slice(0,this.maxPokemonSuggestions)}static \u0275fac=function(t){return new(t||i)(z(ae))};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var $i=(i,e)=>e.stat.name,zi=(i,e)=>e.ability.name,Wi=(i,e)=>e.move.name;function qi(i,e){if(i&1){let t=C();r(0,"button",15),p("click",function(){f(t);let s=c(2);return g(s.closeCard())}),k(),r(1,"svg",16),h(2,"path",17),o()()}}function Yi(i,e){if(i&1&&(r(0,"div",28)(1,"div",34)(2,"span"),l(3),E(4,"titlecase"),o(),r(5,"span",35),l(6),o()(),r(7,"div",36),h(8,"div",37),o()()),i&2){let t=e.$implicit;a(3),b("",T(4,4,t.stat.name),":"),a(3),V(t.base_stat),a(2),St("width",t.base_stat/255*100,"%")}}function Ki(i,e){if(i&1&&(r(0,"span",31),l(1),E(2,"titlecase"),o()),i&2){let t=e.$implicit;a(),b(" ",T(2,1,t.ability.name)," ")}}function Xi(i,e){if(i&1&&(r(0,"span",31),l(1),E(2,"titlecase"),o()),i&2){let t=e.$implicit;a(),b(" ",T(2,1,t.move.name)," ")}}function Ji(i,e){if(i&1){let t=C();r(0,"div",6)(1,"div",18)(2,"h2",19),l(3),E(4,"titlecase"),o(),r(5,"div",20)(6,"img",21),p("click",function(){f(t);let s=c(2);return g(s.toggleSprite())}),o(),r(7,"img",21),p("click",function(){f(t);let s=c(2);return g(s.toggleSprite())}),o(),r(8,"p",22),l(9),o()()(),r(10,"div",23)(11,"div",24)(12,"h3",25),l(13,"Types"),o(),h(14,"app-pokemon-types",26),o(),r(15,"div",24)(16,"h3",25),l(17,"Base Stats"),o(),r(18,"div",27),w(19,Yi,9,6,"div",28,$i),o()(),r(21,"div",29)(22,"h3",25),l(23,"Abilities"),o(),r(24,"div",30),w(25,Ki,3,3,"span",31,zi),o()(),r(27,"div",29)(28,"h3",25),l(29,"Moves (First 5)"),o(),r(30,"div",30),w(31,Xi,3,3,"span",31,Wi),o()(),r(33,"div",32)(34,"div",33)(35,"span"),l(36),o(),r(37,"span"),l(38),o()()()()()}if(i&2){let t=c(2);a(3),b(" ",T(4,9,t.pokemonData().name)," "),a(3),_("src",t.getSpriteSrc("front"),P)("alt",t.pokemonData().name+" front"),a(),_("src",t.getSpriteSrc("back"),P)("alt",t.pokemonData().name+" back"),a(2),b(" Click to toggle ",t.currentSprite()==="default"?"shiny":"normal"," sprite "),a(5),_("types",t.pokemonData().types),a(5),D(t.pokemonData().base_stats),a(6),D(t.pokemonData().abilities),a(6),D(t.pokemonData().moves.slice(0,5)),a(5),b("Height: ",t.pokemonData().height/10,"m"),a(2),b("Weight: ",t.pokemonData().weight/10,"kg")}}function Zi(i,e){i&1&&(r(0,"div",13),h(1,"div",38),r(2,"p",39),l(3,"Loading Pokemon data..."),o()())}function Qi(i,e){if(i&1){let t=C();r(0,"div",14)(1,"p"),l(2),o(),r(3,"button",40),p("click",function(){f(t);let s=c(2);return g(s.loadPokemon())}),l(4," Retry "),o()()}if(i&2){let t=c(2);a(2),V(t.error())}}function en(i,e){if(i&1){let t=C();r(0,"div",4),p("click",function(s){f(t);let d=c();return g(d.handleBackdropClick(s))}),h(1,"div",5),r(2,"div",6)(3,"div",7),y(4,qi,3,0,"button",8),r(5,"div",9)(6,"div",10)(7,"div",11),y(8,Ji,39,11,"div",6),o(),r(9,"div",12),y(10,Zi,4,0,"div",13)(11,Qi,5,1,"div",14),o()()()()()()}if(i&2){let t=c();a(4),m(t.pokemonData()&&!t.isLoading()?4:-1),a(2),X("flipped",t.isFlipped()),a(2),m(t.pokemonData()&&!t.isLoading()?8:-1),a(2),m(t.isLoading()?10:-1),a(),m(t.error()?11:-1)}}var Ue=class i{constructor(e){this.pokemonService=e}MAX_HISTORY=5;STORAGE_KEY="pokemon-history";POKEMON_TYPE_COLORS=Le;MAX_STAT_VALUE=Qt;DISPLAYED_MOVES_COUNT=ei;pokemonData=u(void 0);isLoading=u(!1);error=u(void 0);currentSprite=u("default");pokemonName="";searchTerm=u("");searchHistory=u([]);isFlipped=u(!1);isVisible=u(!1);ngOnInit(){this.loadSearchHistory()}loadSearchHistory(){let e=localStorage.getItem(this.STORAGE_KEY);e&&this.searchHistory.set(JSON.parse(e))}searchPokemon(e){this.pokemonName=e,this.loadPokemon()}loadPokemon(){this.isLoading.set(!0),this.error.set(void 0),this.isFlipped.set(!0),this.pokemonService.getPokemon(this.pokemonName).subscribe({next:e=>{setTimeout(()=>{this.pokemonData.set(e),this.updateSearchHistory(e),this.isLoading.set(!1),this.isFlipped.set(!1),this.isVisible.set(!0)},300)},error:e=>{this.error.set("Pokemon not found. Please try another name."),this.isLoading.set(!1),this.isFlipped.set(!1),this.isVisible.set(!1),console.error("Error loading Pokemon:",e)}})}updateSearchHistory(e){let t=this.searchHistory();this.searchHistory.set([e,...t.filter(n=>n.name!==e.name)].slice(0,this.MAX_HISTORY)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}toggleSprite(){this.currentSprite.set(this.currentSprite()==="default"?"shiny":"default")}getSpriteSrc(e){return this.pokemonData()?.sprites?this.currentSprite()==="shiny"?e==="front"?this.pokemonData()?.sprites.other.showdown.front_shiny||"":this.pokemonData()?.sprites.other.showdown.back_shiny||"":e==="front"?this.pokemonData()?.sprites.front_default||"":this.pokemonData()?.sprites.back_default||"":""}handleDeletePokemon(e){this.searchHistory.set(this.searchHistory().filter(t=>t.name!==e.name)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}closeCard(){this.isVisible.set(!1),this.pokemonData.set(void 0),this.searchTerm.set("")}handleBackdropClick(e){e.target.classList.contains("fixed")&&this.closeCard()}static \u0275fac=function(t){return new(t||i)(v(me))};static \u0275cmp=x({type:i,selectors:[["app-playing-card"]],standalone:!0,features:[S],decls:4,vars:2,consts:[[1,"flex","flex-col","items-center","min-h-[400px]","w-full"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"w-full"],[3,"deleteEntry","reloadEntry","searchHistory"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","transition-opacity","modal-backdrop"],[1,"flex","h-full"],[1,"w-full","max-w-5xl","mx-auto","card-container","relative","bg-white","shadow-xl","modal-content"],[1,"absolute","right-4","top-4","z-20","bg-white","rounded-full","p-1.5","shadow-lg","hover:bg-gray-100","transition-colors","duration-200"],[1,"h-full","overflow-y-auto"],[1,"card"],[1,"card-face","front"],[1,"card-face","back"],[1,"bg-white","rounded-xl","shadow-lg","p-8","text-center"],[1,"bg-white","rounded-xl","shadow-lg","p-8","text-center","text-red-600"],[1,"absolute","right-4","top-4","z-20","bg-white","rounded-full","p-1.5","shadow-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"w-1/3","p-6","bg-gray-50","border-r","border-gray-200"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"flex","flex-col","items-center","space-y-4"],[1,"w-48","h-48","cursor-pointer",3,"click","src","alt"],[1,"text-center","text-sm","text-gray-600"],[1,"w-2/3","p-6"],[1,"mb-6"],[1,"font-semibold","mb-2"],[3,"types"],[1,"space-y-2"],[1,"text-sm"],[1,"mt-6"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","bg-gray-100","rounded-full","text-sm"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"flex","justify-between","text-sm","text-gray-600"],[1,"flex","justify-between"],[1,"font-medium"],[1,"w-full","bg-gray-200","rounded-full","h-1.5"],[1,"bg-blue-600","h-1.5","rounded-full"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-gray-900","mx-auto"],[1,"mt-4"],[1,"mt-4","px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),y(1,en,12,6,"div",1),r(2,"div",2)(3,"app-pokemon-history-table",3),p("deleteEntry",function(d){return n.handleDeletePokemon(d)})("reloadEntry",function(d){return n.searchPokemon(d.name)}),o()()()),t&2&&(a(),m(n.isVisible()?1:-1),a(2),_("searchHistory",n.searchHistory()))},dependencies:[M,G,pe,he,Ge],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.pokemon-card[_ngcontent-%COMP%]{transition:all .3s ease}.pokemon-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-bar[_ngcontent-%COMP%]{transition:width .5s ease-out}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.loading-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite linear;background:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-size:1000px 100%}.modal-backdrop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.card-container[_ngcontent-%COMP%]{perspective:1000px;height:100vh}"]})};var fe=class i{transform(e,t){if(!t)return e;let n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),s=new RegExp(n,"gi");return e.replace(s,d=>`<strong>${d}</strong>`)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=yt({name:"highlight",type:i,pure:!0,standalone:!0})};function tn(i,e){if(i&1){let t=C();r(0,"button",13),E(1,"titlecase"),E(2,"highlight"),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectSuggestion(s))})("mousedown",function(s){return f(t),g(s.preventDefault())}),o()}if(i&2){let t=e.$implicit,n=c(3);_("innerHTML",q(2,3,T(1,1,t),n.searchTerm()),ye)}}function nn(i,e){if(i&1&&(r(0,"div",8)(1,"div",10),l(2,"Recent searches"),o(),r(3,"div",11),w(4,tn,3,6,"button",12,ot),o()()),i&2){let t=c(2);a(4),D(t.searchHistory())}}function rn(i,e){if(i&1){let t=C();r(0,"button",15),E(1,"titlecase"),E(2,"highlight"),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectSuggestion(s))})("mousedown",function(s){return f(t),g(s.preventDefault())}),o()}if(i&2){let t=e.$implicit,n=c(3);_("innerHTML",q(2,3,T(1,1,t),n.searchTerm()),ye)}}function on(i,e){if(i&1&&(r(0,"div",9),w(1,rn,3,6,"button",14,ot),o()),i&2){let t=c(2);a(),D(t.suggestions())}}function sn(i,e){if(i&1&&(r(0,"div",6),y(1,nn,6,0,"div",8)(2,on,3,0,"div",9),o()),i&2){let t=c();a(),m(t.searchHistory().length>0?1:-1),a(),m(t.suggestions().length>0&&t.searchTerm().length>=2?2:-1)}}function an(i,e){if(i&1&&(r(0,"p",7),l(1),o()),i&2){let t=c();a(),V(t.error())}}var $e=class i{constructor(e){this.pokemonService=e;this.loadSearchHistory()}isLoading=L(!1);error=L(void 0);searchSubmitted=W();searchTerm=u("");suggestions=u([]);searchHistory=u([]);isInputFocused=u(!1);MAX_HISTORY=8;STORAGE_KEY="pokemon-search-history";loadSearchHistory(){let e=localStorage.getItem(this.STORAGE_KEY);this.searchHistory.set(e?JSON.parse(e):[])}saveSearchHistory(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.searchHistory()))}onInputFocus(){this.isInputFocused.set(!0)}onInputBlur(){setTimeout(()=>{this.isInputFocused.set(!1)},200)}onSearchChange(e){e.length>=2?this.suggestions.set(this.pokemonService.filterPokemon(e)):this.suggestions.set([])}selectSuggestion(e){this.searchTerm.set(e),this.suggestions.set([]),this.search()}search(){if(!this.searchTerm().trim())return;let e=this.searchTerm().toLowerCase();this.searchHistory.set([e,...this.searchHistory().filter(t=>t!==e)].slice(0,this.MAX_HISTORY)),this.saveSearchHistory(),this.suggestions.set([]),this.searchSubmitted.emit(e)}static \u0275fac=function(t){return new(t||i)(v(me))};static \u0275cmp=x({type:i,selectors:[["app-pokemon-search"]],inputs:{isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{searchSubmitted:"searchSubmitted"},standalone:!0,features:[S],decls:8,vars:3,consts:[[1,"relative","w-full"],[1,"relative","flex","items-center"],[1,"absolute","left-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search a pokemon",1,"w-full","pl-12","pr-4","py-3","border-0","rounded-full","bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition-colors","duration-200",3,"ngModelChange","focus","blur","keyup.enter","ngModel"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","overflow-auto"],[1,"text-red-500","text-sm","mt-2"],[1,"p-3"],[1,"border-t","border-gray-100"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","bg-gray-100","hover:bg-gray-200","rounded-full","text-sm","transition-colors","duration-150",3,"innerHTML"],[1,"px-3","py-1","bg-gray-100","hover:bg-gray-200","rounded-full","text-sm","transition-colors","duration-150",3,"click","mousedown","innerHTML"],[1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","focus:bg-gray-50","focus:outline-none","transition-colors","duration-150",3,"innerHTML"],[1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","focus:bg-gray-50","focus:outline-none","transition-colors","duration-150",3,"click","mousedown","innerHTML"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),k(),r(3,"svg",3),h(4,"path",4),o()(),I(),r(5,"input",5),p("ngModelChange",function(d){return n.searchTerm.set(d),n.onSearchChange(d)})("focus",function(){return n.onInputFocus()})("blur",function(){return n.onInputBlur()})("keyup.enter",function(){return n.search()}),o()(),y(6,sn,3,2,"div",6)(7,an,2,1,"p",7),o()),t&2&&(a(5),_("ngModel",n.searchTerm()),a(),m(n.isInputFocused()&&n.searchHistory().length>0||n.suggestions().length>0&&n.searchTerm().length>=2?6:-1),a(),m(n.error()?7:-1))},dependencies:[M,G,pe,ue,je,Ve,fe],styles:["[_nghost-%COMP%]     strong{font-weight:600;color:#2563eb}"]})};var ze=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-pokemon-page"]],standalone:!0,features:[S],decls:5,vars:2,consts:[["playingCard",""],[1,"w-96"],[3,"searchSubmitted","isLoading","error"],[1,"mt-8"]],template:function(t,n){if(t&1){let s=C();r(0,"div",1)(1,"app-pokemon-search",2),p("searchSubmitted",function(A){f(s);let re=st(4);return g(re.searchPokemon(A))}),o()(),r(2,"div",3),h(3,"app-playing-card",null,0),o()}if(t&2){let s=st(4);a(),_("isLoading",s.isLoading())("error",s.error())}},dependencies:[M,Ue,$e],encapsulation:2})};var J=class i{constructor(e){this.http=e}baseUrl="https://api.themoviedb.org/3";apiKey=Ie.tmdbApiKey;country="BE";getStreamingProviders(){return this.http.get(`${this.baseUrl}/watch/providers/movie?api_key=${this.apiKey}&watch_region=${this.country}`).pipe(N(e=>e.results))}getMovieAvailability(e){return this.http.get(`${this.baseUrl}/movie/${e}/watch/providers?api_key=${this.apiKey}`)}static \u0275fac=function(t){return new(t||i)(z(ae))};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var We=class i{constructor(e){this.elementRef=e}clickOutside=new K;onClick(e){this.elementRef.nativeElement.contains(e)||this.clickOutside.emit()}static \u0275fac=function(t){return new(t||i)(v(ve))};static \u0275dir=Y({type:i,selectors:[["","clickOutside",""]],hostBindings:function(t,n){t&1&&p("click",function(d){return n.onClick(d.target)},!1,xt)},outputs:{clickOutside:"clickOutside"},standalone:!0})};var ln=(i,e)=>e.provider_id;function cn(i,e){i&1&&(r(0,"div",8),h(1,"div",11),o())}function dn(i,e){if(i&1&&(r(0,"div",9),l(1),o()),i&2){let t=c(2);a(),b(" ",t.error()," ")}}function un(i,e){if(i&1){let t=C();r(0,"label",12)(1,"input",13),p("change",function(){let s=f(t).$implicit,d=c(3);return g(d.toggleProvider(s))}),o(),h(2,"img",14),r(3,"span",4),l(4),o()()}if(i&2){let t=e.$implicit,n=c(3);a(),_("checked",n.isSelected(t.provider_id)),a(),_("src","https://image.tmdb.org/t/p/original"+t.logo_path,P)("alt",t.provider_name),a(2),V(t.provider_name)}}function pn(i,e){if(i&1&&(r(0,"div",10),w(1,un,5,4,"label",12,ln),o()),i&2){let t=c(2);a(),D(t.providers())}}function hn(i,e){if(i&1){let t=C();r(0,"div",7),p("clickOutside",function(){f(t);let s=c();return g(s.isOpen.set(!1))}),y(1,cn,2,0,"div",8)(2,dn,2,1,"div",9)(3,pn,3,0,"div",10),o()}if(i&2){let t=c();a(),m(t.loading()?1:t.error()?2:3)}}var qe=class i{providers=u([]);selectedProviders=u(new Set);isOpen=u(!1);loading=u(!1);error=u(null);selectedCount=se(()=>this.selectedProviders().size);providersChanged=W();streamingService=_e(J);constructor(){this.loadProviders()}loadProviders(){this.loading.set(!0),this.streamingService.getStreamingProviders().subscribe({next:e=>{this.providers.set(e),this.loading.set(!1)},error:e=>{this.error.set("Failed to load streaming providers"),this.loading.set(!1)}})}toggleDropdown(){this.isOpen.update(e=>!e)}isSelected(e){return this.selectedProviders().has(e)}toggleProvider(e){let t=new Set(this.selectedProviders());t.has(e.provider_id)?t.delete(e.provider_id):t.add(e.provider_id),this.selectedProviders.set(t),this.providersChanged.emit(Array.from(t))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-streaming-selector"]],outputs:{providersChanged:"providersChanged"},standalone:!0,features:[S],decls:9,vars:6,consts:[[1,"relative","inline-block"],[1,"flex","items-center","space-x-2","px-4","py-2","border","rounded-full","bg-white","hover:bg-gray-50","transition-colors",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"w-5","h-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-gray-500"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-lg","shadow-lg","border","p-4","z-50"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-lg","shadow-lg","border","p-4","z-50",3,"clickOutside"],[1,"flex","justify-center","py-4"],[1,"text-red-500","text-sm","text-center","py-2"],[1,"space-y-3"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-500"],[1,"flex","items-center","space-x-3","cursor-pointer","hover:bg-gray-50","p-2","rounded"],["type","checkbox",1,"rounded","border-gray-300","text-blue-600","focus:ring-blue-500",3,"change","checked"],[1,"h-6","w-6","rounded",3,"src","alt"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"button",1),p("click",function(){return n.toggleDropdown()}),k(),r(2,"svg",2),h(3,"path",3),o(),I(),r(4,"span",4),l(5,"Streaming"),o(),r(6,"span",5),l(7),o()(),y(8,hn,4,1,"div",6),o()),t&2&&(a(),X("ring-2",n.isOpen())("ring-blue-500",n.isOpen()),a(6),b("(",n.selectedCount(),")"),a(),m(n.isOpen()?8:-1))},dependencies:[M,We],encapsulation:2})};var ge=class i{constructor(e){this.http=e}baseUrl="https://api.themoviedb.org/3";apiKey=Ie.tmdbApiKey;getMovie(e){return this.http.get(`${this.baseUrl}/movie/${e}?api_key=${this.apiKey}`).pipe(B(t=>t.status===404?j(()=>new Error("Movie not found")):j(()=>new Error("An error occurred while fetching movie data"))))}getMovieDetails(e){return this.http.get(`${this.baseUrl}/movie/${e}?api_key=${this.apiKey}&append_to_response=credits,reviews,similar,videos`).pipe(B(t=>t.status===404?j(()=>new Error("Movie details not found")):j(()=>new Error("An error occurred while fetching movie details"))))}searchMovies(e,t){let n=`${this.baseUrl}/search/movie?api_key=${this.apiKey}&query=${e}`;return t&&t.length>0&&(n+=`&watch_region=BE&with_watch_providers=${t.join("|")}`),this.http.get(n).pipe(N(d=>d.results),B(()=>j(()=>new Error("Error searching movies"))))}getPopularMovies(){return this.http.get(`${this.baseUrl}/movie/popular?api_key=${this.apiKey}`).pipe(N(e=>e.results),B(()=>j(()=>new Error("Error fetching popular movies"))))}static \u0275fac=function(t){return new(t||i)(z(ae))};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var Z=class i{constructor(e,t){this.movieService=e;this.streamingService=t}#e=u(!1);#t=u(null);#i=u([]);#n=u([]);#r=u([]);#s=u({});#a=u([]);#l=u("");#o=u(null);loading=this.#e.asReadonly();error=this.#t.asReadonly();movies=this.#i.asReadonly();suggestions=this.#n.asReadonly();selectedProviders=this.#r.asReadonly();movieStreamingProviders=this.#s.asReadonly();searchHistory=this.#a.asReadonly();searchTerm=this.#l.asReadonly();selectedMovie=this.#o.asReadonly();updateSearchTerm(e){this.#l.set(e)}addToSearchHistory(e){this.#a().some(t=>t.id===e.id)||this.#a.update(t=>[e,...t].slice(0,5))}setSelectedMovie(e){this.#o.set(e),e&&this.movieService.getMovie(e.id).subscribe({next:t=>this.#o.set(t),error:t=>{console.error("Error loading movie details:",t),this.#t.set("Error loading movie details")}})}loadStreamingProvidersForMovies(e){e.length&&(this.#e.set(!0),Q(e.map(t=>this.streamingService.getMovieAvailability(t.id).pipe(N(n=>({movieId:t.id,providers:n?.results?.BE?.flatrate||[]})),B(()=>Fe({movieId:t.id,providers:[]}))))).subscribe({next:t=>{let n={};t.forEach(({movieId:s,providers:d})=>{n[s]=d}),this.#s.set(n),this.#e.set(!1)},error:t=>{console.error("Error loading streaming providers:",t),this.#e.set(!1)}}))}searchMovies(e,t=5){if(e.length<2){this.#n.set([]),this.#i.set([]),this.#t.set(null);return}this.#e.set(!0),this.#t.set(null),this.movieService.searchMovies(e).pipe(vt(n=>{let s=n.sort((d,A)=>A.popularity-d.popularity);return this.#n.set(s.slice(0,t)),this.#r().length===0?(this.#i.set(s),Fe({movies:s,providers:{}})):Q(s.map(d=>this.streamingService.getMovieAvailability(d.id).pipe(N(A=>({movie:d,providers:A?.results?.BE?.flatrate||[]})),B(()=>Fe({movie:d,providers:[]}))))).pipe(N(d=>{let A={},re=[];return d.forEach(({movie:mt,providers:ft})=>{A[mt.id]=ft,ft.some(di=>this.#r().includes(di.provider_id))&&re.push(mt)}),{movies:re,providers:A}}))})).subscribe({next:({movies:n,providers:s})=>{console.log("Search results:",{movies:n,providers:s}),this.#i.set(n),this.#s.set(s),this.#e.set(!1)},error:n=>{this.#n.set([]),this.#i.set([]),this.#e.set(!1),this.#t.set(`API Error: ${n.message}`),console.error("Search error:",n)}})}updateSelectedProviders(e){console.log("Updating selected providers:",e),this.#r.set(e);let t=this.searchTerm();t.length>=2&&this.searchMovies(t)}closeMovieDetails(){this.#o.set(null)}static \u0275fac=function(t){return new(t||i)(z(ge),z(J))};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var oi=(i,e)=>e.id;function mn(i,e){if(i&1){let t=C();r(0,"li",15),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectMovie(s))}),h(1,"span",16),E(2,"titlecase"),E(3,"highlight"),r(4,"span",17),l(5),E(6,"date"),o()()}if(i&2){let t=e.$implicit,n=c(3);a(),_("innerHTML",q(3,4,T(2,2,t.title),n.searchStore.searchTerm()),ye),a(4),b("(",q(6,7,t.release_date,"yyyy"),")")}}function fn(i,e){if(i&1&&(r(0,"div",11)(1,"div",13),l(2,"Suggestions"),o(),r(3,"ul"),w(4,mn,7,10,"li",14,oi),o()()),i&2){let t=c(2);a(4),D(t.searchStore.suggestions())}}function gn(i,e){if(i&1){let t=C();r(0,"button",20),p("click",function(){let s=f(t).$implicit,d=c(3);return g(d.selectMovie(s))}),l(1),o()}if(i&2){let t=e.$implicit;a(),b(" ",t.title," ")}}function _n(i,e){if(i&1&&(r(0,"div",12)(1,"div",13),l(2,"Recent searches"),o(),r(3,"div",18),w(4,gn,2,1,"button",19,oi),o()()),i&2){let t=c(2);a(4),D(t.searchStore.searchHistory())}}function vn(i,e){if(i&1&&(r(0,"div",9),y(1,fn,6,0,"div",11)(2,_n,6,0,"div",12),o()),i&2){let t=c();a(),m(t.searchStore.suggestions().length>0?1:-1),a(),m(t.searchStore.searchHistory().length>0?2:-1)}}function yn(i,e){if(i&1&&(r(0,"p",10),l(1),o()),i&2){let t=c();a(),V(t.searchStore.error())}}var Ye=class i{constructor(e){this.searchStore=e}isLoading=L(!1);error=L(void 0);searchSubmitted=W();isInputFocused=u(!1);maxSuggestions=5;onSearchTermChange(e){this.searchStore.updateSearchTerm(e),this.searchStore.searchMovies(e,this.maxSuggestions)}onInputBlur(){setTimeout(()=>{this.isInputFocused.set(!1)},200)}onProvidersChanged(e){this.searchStore.updateSelectedProviders(e)}selectMovie(e){console.log("Selecting movie:",e),this.searchStore.setSelectedMovie(e),this.searchStore.searchMovies(e.title),this.isInputFocused.set(!1),this.searchSubmitted.emit(e)}search(){let e=this.searchStore.searchTerm();e.length>=2&&(this.searchStore.searchMovies(e),this.isInputFocused.set(!1))}static \u0275fac=function(t){return new(t||i)(v(Z))};static \u0275cmp=x({type:i,selectors:[["app-movie-search"]],inputs:{isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{searchSubmitted:"searchSubmitted"},standalone:!0,features:[S],decls:11,vars:3,consts:[[1,"relative","w-full"],[1,"relative","w-[600px]"],[1,"relative","flex","items-center","gap-4"],[1,"relative","flex-1"],[1,"absolute","inset-y-0","left-5","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search movies",1,"w-full","pl-14","pr-4","py-3","border-0","rounded-full","bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition-colors","duration-200",3,"ngModelChange","focus","blur","keyup.enter","ngModel"],[3,"providersChanged"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"text-red-500","text-sm","mt-2"],[1,"p-3"],[1,"p-3","border-t","border-gray-100"],[1,"text-xs","text-gray-500","mb-2"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer","rounded"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer","rounded",3,"click"],[3,"innerHTML"],[1,"text-sm","text-gray-500"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","text-sm","bg-gray-100","hover:bg-gray-200","rounded-full"],[1,"px-3","py-1","text-sm","bg-gray-100","hover:bg-gray-200","rounded-full",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),k(),r(5,"svg",5),h(6,"path",6),o()(),I(),r(7,"input",7),p("ngModelChange",function(d){return n.onSearchTermChange(d)})("focus",function(){return n.isInputFocused.set(!0)})("blur",function(){return n.onInputBlur()})("keyup.enter",function(){return n.search()}),o()(),r(8,"app-streaming-selector",8),p("providersChanged",function(d){return n.onProvidersChanged(d)}),o()(),y(9,vn,3,2,"div",9)(10,yn,2,1,"p",10),o()()),t&2&&(a(7),_("ngModel",n.searchStore.searchTerm()),a(2),m(n.isInputFocused()&&(n.searchStore.suggestions().length>0||n.searchStore.searchHistory().length>0)?9:-1),a(),m(n.searchStore.error()?10:-1))},dependencies:[M,G,Pe,pe,ue,je,Ve,fe,qe],encapsulation:2})};var te=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(te||{});function ke(i,e){return{type:te.Trigger,name:i,definitions:e,options:{}}}function ie(i,e=null){return{type:te.Animate,styles:e,timings:i}}function U(i){return{type:te.Style,styles:i,offset:null}}function ne(i,e,t=null){return{type:te.Transition,expr:i,animation:e,options:t}}function si(i,e,t=null){return{type:te.Query,selector:i,animation:e,options:t}}function ai(i,e){return{type:te.Stagger,timings:i,animation:e}}var Xe=(i,e)=>e.provider_id;function Cn(i,e){if(i&1&&(r(0,"div",12),h(1,"img",13),r(2,"span",14),l(3),o()()),i&2){let t=e.$implicit;a(),_("src","https://image.tmdb.org/t/p/original"+t.logo_path,P)("alt",t.provider_name),a(2),V(t.provider_name)}}function bn(i,e){if(i&1&&(r(0,"div")(1,"p",10),l(2,"Subscription"),o(),r(3,"div",11),w(4,Cn,4,3,"div",12,Xe),o()()),i&2){let t=c();a(4),D(t.flatrate)}}function xn(i,e){if(i&1&&(r(0,"div",15),h(1,"img",13),r(2,"span",14),l(3),o()()),i&2){let t=e.$implicit;a(),_("src","https://image.tmdb.org/t/p/original"+t.logo_path,P)("alt",t.provider_name),a(2),V(t.provider_name)}}function Sn(i,e){if(i&1&&(r(0,"div")(1,"p",10),l(2,"Free"),o(),r(3,"div",11),w(4,xn,4,3,"div",15,Xe),o()()),i&2){let t=c();a(4),D(t.free)}}function Mn(i,e){if(i&1&&(r(0,"div",16),h(1,"img",13),r(2,"span",14),l(3),o()()),i&2){let t=e.$implicit;a(),_("src","https://image.tmdb.org/t/p/original"+t.logo_path,P)("alt",t.provider_name),a(2),V(t.provider_name)}}function wn(i,e){if(i&1&&(r(0,"div")(1,"p",10),l(2,"Rent"),o(),r(3,"div",11),w(4,Mn,4,3,"div",16,Xe),o()()),i&2){let t=c();a(4),D(t.rent)}}function Dn(i,e){if(i&1&&(r(0,"div",17),h(1,"img",13),r(2,"span",14),l(3),o()()),i&2){let t=e.$implicit;a(),_("src","https://image.tmdb.org/t/p/original"+t.logo_path,P)("alt",t.provider_name),a(2),V(t.provider_name)}}function Vn(i,e){if(i&1&&(r(0,"div")(1,"p",10),l(2,"Buy"),o(),r(3,"div",11),w(4,Dn,4,3,"div",17,Xe),o()()),i&2){let t=c();a(4),D(t.buy)}}function En(i,e){if(i&1&&(r(0,"div",8),y(1,bn,6,0,"div")(2,Sn,6,0,"div")(3,wn,6,0,"div")(4,Vn,6,0,"div"),o()),i&2){let t=e;a(),m(t.flatrate.length>0?1:-1),a(),m(t.free.length>0?2:-1),a(),m(t.rent.length>0?3:-1),a(),m(t.buy.length>0?4:-1)}}function kn(i,e){i&1&&(r(0,"p",9),l(1," No streaming providers available "),o())}function Fn(i,e){if(i&1&&(r(0,"div",0)(1,"div",1),h(2,"img",2),r(3,"div",3)(4,"h2",4),l(5),o(),r(6,"p",5),l(7),o(),r(8,"div",6)(9,"div")(10,"p",7),l(11,"Release Date"),o(),r(12,"p"),l(13),o()(),r(14,"div")(15,"p",7),l(16,"Rating"),o(),r(17,"p"),l(18),o()()(),y(19,En,5,4,"div",8)(20,kn,2,0,"p",9),o()()()),i&2){let t,n=e,s=c();a(2),_("src","https://image.tmdb.org/t/p/w500"+n.poster_path,P)("alt",n.title),a(3),V(n.title),a(2),V(n.overview),a(6),V(n.release_date),a(5),b("",n.vote_average,"/10"),a(),m((t=s.providers())?19:20,t)}}var Ke=class i{constructor(e,t){this.movieService=e;this.streamingService=t}movieId;close=new K;movie=u(null);providers=u({flatrate:[],free:[],buy:[],rent:[]});ngOnInit(){this.loadMovieDetails()}loadMovieDetails(){Q({movieDetails:this.movieService.getMovie(this.movieId),providers:this.streamingService.getMovieAvailability(this.movieId)}).subscribe({next:({movieDetails:e,providers:t})=>{this.movie.set(e),this.providers.set({flatrate:t?.results?.BE?.flatrate||[],free:t?.results?.BE?.free||[],buy:t?.results?.BE?.buy||[],rent:t?.results?.BE?.rent||[]})},error:e=>console.error("Error loading movie details:",e)})}static \u0275fac=function(t){return new(t||i)(v(ge),v(J))};static \u0275cmp=x({type:i,selectors:[["app-movie-card"]],inputs:{movieId:"movieId"},outputs:{close:"close"},standalone:!0,features:[be([M]),S],decls:1,vars:1,consts:[[1,"space-y-4"],[1,"flex","gap-6"],[1,"w-64","h-96","object-cover","rounded-lg",3,"src","alt"],[1,"flex-1","space-y-4"],[1,"text-2xl","font-bold"],[1,"text-gray-600"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","text-gray-500"],[1,"mt-4","space-y-4"],[1,"text-sm","text-gray-500","mt-4"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","flex-wrap","gap-2"],[1,"flex","items-center","bg-blue-50","rounded-full","px-3","py-1"],[1,"w-6","h-6","rounded-full",3,"src","alt"],[1,"ml-2","text-sm"],[1,"flex","items-center","bg-green-50","rounded-full","px-3","py-1"],[1,"flex","items-center","bg-orange-50","rounded-full","px-3","py-1"],[1,"flex","items-center","bg-purple-50","rounded-full","px-3","py-1"]],template:function(t,n){if(t&1&&y(0,Fn,21,7,"div",0),t&2){let s;m((s=n.movie())?0:-1,s)}},encapsulation:2,data:{animation:[ke("cardContent",[ne(":enter",[si(".animate-item",[U({opacity:0,transform:"translateY(10px)"}),ai(50,[ie("300ms ease-out",U({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};var Pn=(i,e)=>e.id;function An(i,e){if(i&1){let t=C();r(0,"button",15),p("click",function(){f(t);let s=c().$implicit,d=c();return g(d.toggleFavorite(s))}),k(),r(1,"svg",16),h(2,"path",17),o()()}if(i&2){let t=c().$implicit,n=c();a(),X("fill-current",n.favoriteMovies().has(t.id))}}function In(i,e){if(i&1){let t=C();r(0,"div",5),h(1,"img",7),r(2,"div",8)(3,"h3",9),l(4),o(),r(5,"p",10),l(6),E(7,"date"),o(),r(8,"div",11)(9,"span",3),l(10),E(11,"number"),o(),y(12,An,3,2,"button",12),o(),r(13,"div",13)(14,"button",14),p("click",function(){let s=f(t).$implicit,d=c();return g(d.openMovieDetails(s))}),l(15," View Details "),o()()()()}if(i&2){let t=e.$implicit,n=c();a(),_("src","https://image.tmdb.org/t/p/w500"+t.poster_path,P)("alt",t.title),a(3),V(t.title),a(2),b(" ",q(7,6,t.release_date,"yyyy")," "),a(4),b(" Rating: ",q(11,9,t.vote_average,"1.1-1")," "),a(2),m(n.authService.isAuthenticated()?12:-1)}}function Tn(i,e){if(i&1){let t=C();r(0,"div",18),p("click",function(){f(t);let s=c();return g(s.closeMovieDetails())}),r(1,"div",19),p("click",function(s){return f(t),g(s.stopPropagation())}),r(2,"div",20)(3,"h3",21),l(4,"Movie Details"),o(),r(5,"button",22),p("click",function(){f(t);let s=c();return g(s.closeMovieDetails())}),k(),r(6,"svg",23),h(7,"path",24),o()()(),I(),r(8,"div",25)(9,"app-movie-card",26),p("close",function(){f(t);let s=c();return g(s.closeMovieDetails())}),o()()()()}if(i&2){let t=c();a(9),_("movieId",t.searchStore.selectedMovie().id)}}var Je=class i{constructor(e,t){this.authService=e;this.searchStore=t;this.authService.isAuthenticated()&&this.loadFavoriteMovies()}movies=L.required();favoriteMovies=u(new Set);loadFavoriteMovies(){this.authService.getFavoriteMovies().subscribe({next:e=>{this.favoriteMovies.set(new Set(e.map(t=>t.id)))},error:e=>console.error("Error loading favorites:",e)})}toggleFavorite(e){if(!this.authService.isAuthenticated())return;let t=this.favoriteMovies().has(e.id);(t?this.authService.removeFromFavorites(e.id):this.authService.addToFavorites(e.id)).subscribe({next:()=>{let s=new Set(this.favoriteMovies());t?s.delete(e.id):s.add(e.id),this.favoriteMovies.set(s)},error:s=>console.error("Error updating favorites:",s)})}openMovieDetails(e){this.searchStore.setSelectedMovie(e),document.body.style.overflow="hidden"}closeMovieDetails(){this.searchStore.closeMovieDetails(),document.body.style.overflow="auto"}static \u0275fac=function(t){return new(t||i)(v(Te),v(Z))};static \u0275cmp=x({type:i,selectors:[["app-movie-search-results"]],inputs:{movies:[1,"movies"]},standalone:!0,features:[S],decls:11,vars:2,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","flex","flex-col"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"w-full","h-64","object-cover",3,"src","alt"],[1,"p-4","flex","flex-col","flex-grow"],[1,"font-semibold","text-lg","mb-2"],[1,"text-gray-600","text-sm","mb-2"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-red-500","hover:text-red-600"],[1,"mt-auto"],[1,"w-full","py-2","px-4","bg-blue-500","hover:bg-blue-600","text-white","rounded-md","transition-colors","duration-200",3,"click"],[1,"text-red-500","hover:text-red-600",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","max-w-3xl","w-full","max-h-[90vh]","overflow-y-auto","m-4",3,"click"],[1,"p-4","flex","justify-between","items-center","border-b"],[1,"text-xl","font-semibold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4"],[3,"close","movieId"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),l(4,"Search Results"),o(),r(5,"p",3),l(6),o()()(),r(7,"div",4),w(8,In,16,12,"div",5,Pn),o(),y(10,Tn,10,1,"div",6),o()),t&2&&(a(6),b(" Found ",n.movies().length," movies "),a(2),D(n.movies()),a(2),m(n.searchStore.selectedMovie()?10:-1))},dependencies:[M,kt,Pe,Ke],encapsulation:2,data:{animation:[ke("modalAnimation",[ne(":enter",[U({opacity:0}),ie("2000ms ease-out",U({opacity:1}))]),ne(":leave",[ie("2000ms ease-in",U({opacity:0}))])]),ke("modalContent",[ne(":enter",[U({transform:"scale(0.95)",opacity:0}),ie("200ms ease-out",U({transform:"scale(1)",opacity:1}))]),ne(":leave",[ie("200ms ease-in",U({transform:"scale(0.95)",opacity:0}))])])]}})};function On(i,e){if(i&1&&h(0,"app-movie-search-results",3),i&2){let t=c();_("movies",t.searchStore.movies())}}var Ze=class i{constructor(e){this.searchStore=e}onMovieSelect(e){console.log("Movie page received movie:",e),this.searchStore.searchMovies(e.title)}static \u0275fac=function(t){return new(t||i)(v(Z))};static \u0275cmp=x({type:i,selectors:[["app-movie-page"]],standalone:!0,features:[S],decls:4,vars:3,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"mb-8"],[3,"searchSubmitted","isLoading","error"],[3,"movies"]],template:function(t,n){if(t&1&&(r(0,"div",0)(1,"div",1)(2,"app-movie-search",2),p("searchSubmitted",function(d){return n.onMovieSelect(d)}),o()(),y(3,On,1,1,"app-movie-search-results",3),o()),t&2){let s;a(2),_("isLoading",n.searchStore.loading())("error",(s=n.searchStore.error())!==null&&s!==void 0?s:void 0),a(),m(n.searchStore.movies().length>0?3:-1)}},dependencies:[M,Ye,Je],encapsulation:2})};var li=[{path:"",redirectTo:"pokemon",pathMatch:"full"},{path:"pokemon",component:ze,title:"Pokemon Cards"},{path:"movies",component:Ze,title:"Movie Recommendations"},{path:"profile",loadComponent:()=>import("./chunk-HJYGY7EQ.js").then(i=>i.ProfilePageComponent),title:"Profile"},{path:"preferences",loadComponent:()=>import("./chunk-J5OTYYRU.js").then(i=>i.PreferencesPageComponent),title:"Preferences"},{path:"login",loadComponent:()=>import("./chunk-TF6PGFXD.js").then(i=>i.LoginPageComponent),title:"Login"},{path:"auth/callback",loadComponent:()=>import("./chunk-Z4ECXADH.js").then(i=>i.AuthCallbackComponent),title:"Authenticating..."}];var ci={providers:[Dt({eventCoalescing:!0}),It(li),Ft()]};function Nn(i,e){if(i&1){let t=C();r(0,"div",26)(1,"a",27)(2,"span",28),l(3,"person"),o(),l(4," Profile "),o(),r(5,"a",29)(6,"span",28),l(7,"settings"),o(),l(8," Preferences "),o(),r(9,"button",30),p("click",function(){f(t);let s=c(2);return g(s.signOut())}),r(10,"span",28),l(11,"logout"),o(),l(12," Sign out "),o()()}}function Rn(i,e){if(i&1){let t=C();r(0,"div",19)(1,"button",21),p("click",function(){f(t);let s=c();return g(s.toggleUserMenu())}),r(2,"div",22)(3,"span",23),l(4),o()(),r(5,"span",24),l(6),o(),r(7,"span",25),l(8),o()(),y(9,Nn,13,0,"div",26),o()}if(i&2){let t=c();a(4),V(t.getUserInitials()),a(2),V(t.userName()),a(2),b(" ",t.isUserMenuOpen()?"expand_less":"expand_more"," "),a(),m(t.isUserMenuOpen()?9:-1)}}function Hn(i,e){i&1&&(r(0,"a",20)(1,"span",31),l(2,"login"),o(),r(3,"span"),l(4,"Log in"),o()())}var Qe=class i{isUserMenuOpen=u(!1);isAuthenticated=u(!1);userName=u("John Doe");toggleUserMenu(){this.isUserMenuOpen.update(e=>!e)}getUserInitials(){return this.userName().split(" ").map(e=>e[0]).join("").toUpperCase()}signOut(){this.isAuthenticated.set(!1),this.isUserMenuOpen.set(!1)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-nav"]],standalone:!0,features:[S],decls:28,vars:1,consts:[[1,"fixed","left-0","top-0","h-full","w-64","bg-[#6366F1]","text-white","p-4"],[1,"flex","flex-col","h-full"],[1,"mb-8"],["width","32","height","32","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","16","cy","16","r","15","fill","#3B82F6"],["x","8","y","10","width","16","height","12","fill","white","opacity","0.9"],["x","10","y","12","width","2","height","2","fill","#3B82F6"],["x","10","y","18","width","2","height","2","fill","#3B82F6"],["x","20","y","12","width","2","height","2","fill","#3B82F6"],["x","20","y","18","width","2","height","2","fill","#3B82F6"],["cx","14","cy","16","r","3","stroke","white","stroke-width","2","fill","none"],["d","M16.5 18.5L19.5 21.5","stroke","white","stroke-width","2","stroke-linecap","round"],["d","M20 14C21.5 14 22.5 15 23 16","stroke","white","stroke-width","1.5","stroke-linecap","round","fill","none"],["d","M20 16C21 16 21.5 16.5 22 17","stroke","white","stroke-width","1.5","stroke-linecap","round","fill","none"],[1,"space-y-4","flex-grow"],["routerLink","/pokemon","routerLinkActive","bg-white/20",1,"flex","items-center","space-x-3","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"material-icons"],["routerLink","/movies","routerLinkActive","bg-white/20",1,"flex","items-center","space-x-3","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"mt-auto"],[1,"relative"],["routerLink","/login",1,"flex","items-center","px-4","py-2","rounded-lg","hover:bg-white/10"],[1,"w-full","flex","items-center","px-4","py-2","rounded-lg","hover:bg-white/10",3,"click"],[1,"h-8","w-8","rounded-full","bg-white/20","flex","items-center","justify-center","mr-3"],[1,"text-sm","font-medium"],[1,"flex-grow","text-left"],[1,"material-icons","text-sm"],[1,"absolute","bottom-full","left-0","w-full","mb-2","bg-white","rounded-lg","shadow-lg","overflow-hidden"],["routerLink","/profile",1,"block","px-4","py-2","text-gray-700","hover:bg-gray-100"],[1,"material-icons","text-sm","mr-2"],["routerLink","/preferences",1,"block","px-4","py-2","text-gray-700","hover:bg-gray-100"],[1,"w-full","px-4","py-2","text-left","text-gray-700","hover:bg-gray-100",3,"click"],[1,"material-icons","mr-3"]],template:function(t,n){t&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2),k(),r(3,"svg",3),h(4,"circle",4)(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"rect",8)(9,"rect",9)(10,"circle",10)(11,"path",11)(12,"path",12)(13,"path",13),o()(),I(),r(14,"div",14)(15,"a",15)(16,"span",16),l(17,"catching_pokemon"),o(),r(18,"span"),l(19,"Pokemon"),o()(),r(20,"a",17)(21,"span",16),l(22,"movie"),o(),r(23,"span"),l(24,"Movies"),o()()(),r(25,"div",18),y(26,Rn,10,4,"div",19)(27,Hn,5,0,"a",20),o()()()),t&2&&(a(26),m(n.isAuthenticated()?26:27))},dependencies:[M,Ae],encapsulation:2})};function jn(i,e){if(i&1){let t=C();r(0,"div",16)(1,"a",17),l(2," Your Profile "),o(),r(3,"a",18),l(4," Preferences "),o(),r(5,"button",19),p("click",function(){f(t);let s=c(2);return g(s.signOut())}),l(6," Sign out "),o()()}}function Bn(i,e){if(i&1){let t=C();r(0,"div",8)(1,"button",11),p("click",function(){f(t);let s=c();return g(s.toggleUserMenu())}),h(2,"img",12),r(3,"span",13),l(4),o(),k(),r(5,"svg",14),h(6,"path",15),o()(),y(7,jn,7,0,"div",16),o()}if(i&2){let t,n=c();a(2),_("src",n.authService.getUserAvatar(),P),a(2),b(" ",(t=n.authService.currentUser())==null?null:t.username," "),a(3),m(n.isUserMenuOpen()?7:-1)}}function Ln(i,e){if(i&1){let t=C();r(0,"button",20),p("click",function(){f(t);let s=c();return g(s.authService.login())}),l(1," Log in "),o()}}var et=class i{authService=_e(Te);isUserMenuOpen=u(!1);toggleUserMenu(){this.isUserMenuOpen.update(e=>!e)}signOut(){this.isUserMenuOpen.set(!1),this.authService.logout()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-root"]],standalone:!0,features:[S],decls:13,vars:1,consts:[[1,"min-h-screen","bg-gray-50"],[1,"ml-64"],[1,"bg-white","border-b","px-8","py-4"],[1,"flex","items-center","justify-end"],[1,"flex","items-center","space-x-4"],[1,"p-2","hover:bg-gray-100","rounded-full"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],[1,"relative"],[1,"text-sm","font-medium","text-gray-700","hover:bg-gray-100","rounded-lg","px-4","py-2"],[1,"p-8"],[1,"flex","items-center","space-x-2","hover:bg-gray-100","rounded-lg","p-2",3,"click"],["alt","Profile",1,"h-8","w-8","rounded-full",3,"src"],[1,"text-sm","font-medium","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","py-1"],["routerLink","/profile",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],["routerLink","/preferences",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"block","w-full","text-left","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"text-sm","font-medium","text-gray-700","hover:bg-gray-100","rounded-lg","px-4","py-2",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),h(1,"app-nav"),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),k(),r(7,"svg",6),h(8,"path",7),o()(),y(9,Bn,8,3,"div",8)(10,Ln,2,0,"button",9),o()()(),I(),r(11,"main",10),h(12,"router-outlet"),o()()()),t&2&&(a(9),m(n.authService.isAuthenticated()?9:10))},dependencies:[M,At,Ae,Qe],encapsulation:2})};Pt(et,ci).catch(i=>console.error(i));
